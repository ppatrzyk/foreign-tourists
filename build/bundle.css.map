{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "App.svelte",
    "Control.svelte",
    "Country.svelte",
    "TopCountries.svelte"
  ],
  "sourcesContent": [
    "<script>\n\timport { app_state, country_codes, map_geojson, tourists } from './stores.js';\n\timport { onMount } from 'svelte'\n\timport Map from \"./Map.svelte\"\n\timport Country from \"./Country.svelte\"\n\timport Control from \"./Control.svelte\"\n\timport TopCountries from \"./TopCountries.svelte\"\n\n\tonMount(async () => {\n\t\tconst country_codes_raw = await fetch('data/country_codes.json');\n\t\tvar country_codes_data = await country_codes_raw.json();\n\t\t\n\t\tconst map_geojson_raw = await fetch('data/map_data.geojson');\n\t\tvar map_geojson_data = await map_geojson_raw.json();\n\t\t\n\t\tconst tourists_raw = await fetch('data/tourists_total.json');\n\t\tvar tourists_data = await tourists_raw.json();\n\n\t\tcountry_codes.set(country_codes_data)\n\t\tmap_geojson.set(map_geojson_data)\n\t\ttourists.set(tourists_data)\n\t});\n\t\n</script>\n\n<main>\n\t<div class=\"pure-g\">\n\t\t<div class=\"pure-u-1-1\">\n\t\t\t<Control />\n\t\t</div>\n\t</div>\n\t<div class=\"pure-g\">\n\t\t{#if Object.keys($country_codes).length === 0 || Object.keys($map_geojson).length === 0 || Object.keys($tourists).length === 0}\n\t\t\t<div class=\"pure-u-1-1\">\n\t\t\t\tLoading data...\n\t\t\t</div>\n\t\t{:else}\n\t\t\t<!-- row 1 -->\n\t\t\t<div class=\"pure-u-2-24\">\n\t\t\t\t{#if $app_state.mode !== 'total'}\n\t\t\t\t\t<Country country=\"CA\" />\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t\t<div class=\"pure-u-2-24\">\n\t\t\t\t{#if $app_state.mode !== 'total'}\n\t\t\t\t\t<Country country=\"DK\" />\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t\t<div class=\"pure-u-2-24\">\n\t\t\t\t{#if $app_state.mode !== 'total'}\n\t\t\t\t\t<Country country=\"NO\" />\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t\t<div class=\"pure-u-2-24\">\n\t\t\t\t{#if $app_state.mode !== 'total'}\n\t\t\t\t\t<Country country=\"SE\" />\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t\t<div class=\"pure-u-2-24\">\n\t\t\t\t{#if $app_state.mode !== 'total'}\n\t\t\t\t\t<Country country=\"FI\" />\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t\t<div class=\"pure-u-2-24\">\n\t\t\t\t{#if $app_state.mode !== 'total'}\n\t\t\t\t\t<Country country=\"LT\" />\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t\t<div class=\"pure-u-2-24\">\n\t\t\t\t{#if $app_state.mode !== 'total'}\n\t\t\t\t\t<Country country=\"LV\" />\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t\t<div class=\"pure-u-2-24\">\n\t\t\t\t{#if $app_state.mode !== 'total'}\n\t\t\t\t\t<Country country=\"EE\" />\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t\t<div class=\"pure-u-8-24\">\n\t\t\t\t<!-- margin -->\n\t\t\t</div>\n\t\t\t<!-- row 2 -->\n\t\t\t<div class=\"pure-u-2-24\">\n\t\t\t\t{#if $app_state.mode !== 'total'}\n\t\t\t\t\t<Country country=\"US\" />\n\t\t\t\t\t<Country country=\"GB\" />\n\t\t\t\t\t<Country country=\"IE\" />\n\t\t\t\t\t<Country country=\"ES\" />\n\t\t\t\t\t<Country country=\"PT\" />\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t\t<div class=\"pure-u-2-24\">\n\t\t\t\t{#if $app_state.mode !== 'total'}\n\t\t\t\t\t<Country country=\"DE\" />\n\t\t\t\t\t<Country country=\"FR\" />\n\t\t\t\t\t<Country country=\"BE\" />\n\t\t\t\t\t<Country country=\"NL\" />\n\t\t\t\t\t<Country country=\"LU\" />\n\t\t\t\t\t<Country country=\"CH\" />\n\t\t\t\t\t<Country country=\"IT\" />\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t\t<div class=\"pure-u-10-24\">\n\t\t\t\t{#if $app_state.mode !== 'total'}\n\t\t\t\t\t<Map />\n\t\t\t\t{:else}\n\t\t\t\t\t<TopCountries level=\"total\"/>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t\t<div class=\"pure-u-2-24\">\n\t\t\t\t{#if $app_state.mode !== 'total'}\n\t\t\t\t\t<Country country=\"RU\" />\n\t\t\t\t\t<Country country=\"BY\" />\n\t\t\t\t\t<Country country=\"UA\" />\n\t\t\t\t\t<Country country=\"GR\" />\n\t\t\t\t\t<Country country=\"CY\" />\n\t\t\t\t\t<Country country=\"MT\" />\n\t\t\t\t\t<Country country=\"JP\" />\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t\t<div class=\"pure-u-8-24\">\n\t\t\t\t{#if $app_state.mode === 'bywojewodztwo'}\n\t\t\t\t\t<TopCountries level=\"wojewodztwo\"/>\n\t\t\t\t{/if}\n\t\t\t\t{#if $app_state.mode === 'bycountry'}\n\t\t\t\t\t<TopCountries level=\"countryts\"/>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t\t<!-- row 3 -->\n\t\t\t<div class=\"pure-u-4-24\">\n\t\t\t\t<!-- margin -->\n\t\t\t</div>\n\t\t\t<div class=\"pure-u-2-24\">\n\t\t\t\t{#if $app_state.mode !== 'total'}\n\t\t\t\t\t<Country country=\"SI\" />\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t\t<div class=\"pure-u-2-24\">\n\t\t\t\t{#if $app_state.mode !== 'total'}\n\t\t\t\t\t<Country country=\"AT\" />\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t\t<div class=\"pure-u-2-24\">\n\t\t\t\t{#if $app_state.mode !== 'total'}\n\t\t\t\t\t<Country country=\"CZ\" />\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t\t<div class=\"pure-u-2-24\">\n\t\t\t\t{#if $app_state.mode !== 'total'}\n\t\t\t\t\t<Country country=\"SK\" />\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t\t<div class=\"pure-u-2-24\">\n\t\t\t\t{#if $app_state.mode !== 'total'}\n\t\t\t\t\t<Country country=\"HU\" />\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t{/if}\n\t</div>\n\t\n</main>\n\n<style>\n\tmain {\n\t\tmargin: 10px;\n\t}\n</style>",
    "<script>\n    import { app_state, country_codes } from './stores.js';\n\n    let modes = [\n        {id: 'bywojewodztwo', text: 'By województwo'},\n        {id: 'bycountry', text: 'By country'},\n        {id: 'total', text: 'Total'}\n    ]\n    let selected_mode;\n\n    let wojewodztwa = [\n      {id: 'DOLNOŚLĄSKIE', text: 'Dolnośląskie'},\n      {id: 'KUJAWSKO-POMORSKIE', text: 'Kujawsko-Pomorskie'},\n      {id: 'LUBELSKIE', text: 'Lubelskie'},\n      {id: 'LUBUSKIE', text: 'Lubuskie'},\n      {id: 'ŁÓDZKIE', text: 'Łódzkie'},\n      {id: 'MAZOWIECKIE', text: 'Mazowieckie'},\n      {id: 'MAŁOPOLSKIE', text: 'Małopolskie'},\n      {id: 'OPOLSKIE', text: 'Opolskie'},\n      {id: 'PODKARPACKIE', text: 'Podkarpackie'},\n      {id: 'PODLASKIE', text: 'Podlaskie'},\n      {id: 'POMORSKIE', text: 'Pomorskie'},\n      {id: 'ŚLĄSKIE', text: 'Śląskie'},\n      {id: 'ŚWIĘTOKRZYSKIE', text: 'Świętokrzyskie'},\n      {id: 'WARMIŃSKO-MAZURSKIE', text: 'Warmińsko-Mazurskie'},\n      {id: 'WIELKOPOLSKIE', text: 'Wielkopolskie'},\n      {id: 'ZACHODNIOPOMORSKIE', text: 'Zachodniopomorskie'}\n    ]\n    let selected_wojewodztwo;\n\n    let years = [2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019];\n    let selected_year = 2019;\n\n    let country_display\n    $: try {\n      country_display = $country_codes[$app_state['country']]['en']\n    } catch (error) {\n      country_display = 'unknown'\n    }\n</script>\n\n<div>\n    <h1>Foreign Tourists</h1>\n\n    <div>\n      <label for=\"mode\">Mode</label>\n      <!-- svelte-ignore a11y-no-onchange -->\n      <select id=\"mode\" bind:value={selected_mode} on:change=\"{app_state.set_variable('mode', selected_mode.id)}\">\n      {#each modes as mode}\n        <option value={mode}>\n          {mode.text}\n        </option>\n      {/each}\n      </select>\n  \n      <label for=\"year\">Year</label>\n      <!-- svelte-ignore a11y-no-onchange -->\n      <select id=\"year\" bind:value={selected_year} on:change=\"{app_state.set_variable('year', selected_year)}\">\n      {#each years as year}\n        <option value={year}>\n          {year}\n        </option>\n      {/each}\n      </select>\n  \n      <label for=\"woj\">Voivodeship</label>\n      <!-- svelte-ignore a11y-no-onchange -->\n      <select id=\"woj\" bind:value={selected_wojewodztwo} on:change=\"{app_state.set_variable('wojewodztwo', selected_wojewodztwo.id)}\">\n      {#each wojewodztwa as wojewodztwo}\n        <option value={wojewodztwo}>\n          {wojewodztwo.text}\n        </option>\n      {/each}\n      </select>\n    </div>\n\n    <div class=\"desc\">\n      {#if $app_state['mode'] === 'total'}\n        <p>\n          The following table shows ranking of countries by total number of tourists in year <strong>{$app_state['year']}</strong>.\n        </p>\n      {:else if $app_state['mode'] == 'bycountry'}\n        <p>\n          The visualization shows destinations of tourists from <strong>{country_display}</strong> in year <strong>{$app_state['year']}</strong>.\n          Percentage indicates the popularity of given destination (voivodeship), relative to the entrire traffic to Poland from <strong>{country_display}</strong>.\n          Table displays exact number of tourists from <strong>{country_display}</strong> by year.\n          Click on a flag to change the country.\n        </p>\n      {:else if $app_state['mode'] == 'bywojewodztwo'}\n        <p>\n          The visualization shows the ranking of countries within each voivodeship in year <strong>{$app_state['year']}</strong>.\n          Flags on the map indicate the top country of origin for each voivodeship.\n          The full ranking is currently displayed for <strong>{$app_state['wojewodztwo']}</strong> voivodeship (highlighted on the map).\n          Percentage indicates what proportion of all tourists in a given voivodeship do tourists from given country account for.\n        </p>\n      {/if}\n      <p>\n        <em>Note:</em> this app requires a bigger screen to render all elements properly.\n      </p>\n      <p>Data source: <a href=\"https://api.stat.gov.pl/Home/BdlApi\">Główny Urząd Statystyczny</a>.</p>\n    </div>\n    \n</div>\n\n<style>\n  div {\n    margin: 10px;\n  }\n  .desc {\n    border: 1px solid black;\n    border-radius: 20px;\n    padding: 10px;\n    background-color:#e6ffe6;\n  }\n  a {\n    color: black;\n    font-weight: 600;\n  }\n</style>\n",
    "<script>\n\timport { app_state } from './stores.js';\n\texport let country;\n\tlet flagstate;\n\t$: if ($app_state['mode'] !== 'bycountry' || $app_state['country'] !== country) {\n\t\tflagstate = 'inactiveflag'\n\t} else {\n\t\tflagstate = 'activeflag'\n\t}\n</script>\n\n<div>\n\t<div on:click=\"{app_state.set_variable('country', country)}\" class=\"myflag {flagstate} flag-icon-background flag-icon-{country.toLowerCase()}\" />\n</div>\n\n<style>\n\t.myflag {\n\t\twidth: 60px;\n\t\theight: 45px;\n\t\tmargin: 40px;\n\t\tborder-radius: 5px;\n\t\tborder: 1px solid black;\n\t}\n\n\t.activeflag {\n\t\topacity: 1;\n\t}\n\n\t.inactiveflag {\n\t\topacity: 0.5;\n\t}\n</style>\n",
    "<script>\n    import { app_state, map_geojson, tourists, country_codes } from './stores.js';\n\n    export let level; // wojewodztwo, total, countryts\n    \n    function get_data(level, app_state, map_geojson, tourists) {\n        var data;\n        var wojewodztwo = app_state['wojewodztwo'];\n        var year = app_state['year'];\n        var country = app_state['country'];\n        if (level == 'wojewodztwo') {\n            for (var entry of map_geojson['features']) {\n                var current_name = entry.properties.nazwa.toUpperCase();\n                if (current_name === wojewodztwo) {\n                    data = entry.properties['bywojewodztwo'][year]\n                }\n            }\n            // take top 10 only\n            data = data.slice(0, 10)\n        } else if (level == 'total') {\n            data = tourists[year]\n        } else if (level == 'countryts') {\n            for (var entry of map_geojson['features']) {\n                var current_name = entry.properties.nazwa.toUpperCase();\n                if (current_name === wojewodztwo) {\n                    data = []\n                    for (let [key, value] of Object.entries(entry.properties['bycountry'])) {\n                        try {\n                            var current_year = value[country]\n                            current_year['year'] = key\n                            data.unshift(current_year)\n                        } catch (error) {\n                            // pass\n                        }\n                    }\n                }\n            }\n        } else {\n            data = {};\n        }\n        return data\n    }\n    $: data = get_data(level, $app_state, $map_geojson, $tourists)\n    $: wojewodztwo = $app_state['wojewodztwo'];\n    \n</script>\n\n<div>\n    {#if level !== 'total'}\n        <h2>{wojewodztwo}</h2>\n    {/if}\n    <table class=\"mytable pure-table\">\n        <thead>\n            <tr>\n                {#if level !== 'countryts'}\n                    <th>Place</th>\n                {:else}\n                    <th>Year</th>\n                {/if}\n                {#if level !== 'countryts'}\n                    <th>Country</th>\n                {/if}\n                <th>Count</th>\n                <th>Perc of all</th>\n              </tr>\n        </thead>\n        {#each data as entry, i}\n            <tr>\n                {#if level !== 'countryts'}\n                    <td>{i+1}</td>\n                {:else}\n                    <td>{entry.year}</td>\n                {/if}\n                {#if level !== 'countryts'}\n                    <td>\n                        <span class=\"tableflag flag-icon-background flag-icon-{entry.country.toLowerCase()}\" />\n                        {$country_codes[entry.country]['en']}\n                    </td>\n                {/if}\n                <td>{entry.count}</td>\n                <td>{Math.round( (entry.year_prop*100) * 100 + Number.EPSILON ) / 100}</td>\n            </tr>\n        {/each}\n      </table>\n</div>\n\n<style>\n    .tableflag {\n        display: inline-block;\n\t\twidth: 1.33rem;\n\t\theight: 1rem;\n\t\tmargin-right: 5px;\n    }\n    \n    .mytable {\n        width: 100%;\n        padding: 10px;\n    }\n</style>\n"
  ],
  "names": [],
  "mappings": "AAmKC,IAAI,eAAC,CAAC,AACL,MAAM,CAAE,IAAI,AACb,CAAC;AC5DA,GAAG,eAAC,CAAC,AACH,MAAM,CAAE,IAAI,AACd,CAAC,AACD,KAAK,eAAC,CAAC,AACL,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,KAAK,CACvB,aAAa,CAAE,IAAI,CACnB,OAAO,CAAE,IAAI,CACb,iBAAiB,OAAO,AAC1B,CAAC,AACD,CAAC,eAAC,CAAC,AACD,KAAK,CAAE,KAAK,CACZ,WAAW,CAAE,GAAG,AAClB,CAAC;ACrGF,OAAO,eAAC,CAAC,AACR,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,MAAM,CAAE,IAAI,CACZ,aAAa,CAAE,GAAG,CAClB,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,KAAK,AACxB,CAAC,AAED,WAAW,eAAC,CAAC,AACZ,OAAO,CAAE,CAAC,AACX,CAAC,AAED,aAAa,eAAC,CAAC,AACd,OAAO,CAAE,GAAG,AACb,CAAC;ACyDE,UAAU,eAAC,CAAC,AACR,OAAO,CAAE,YAAY,CAC3B,KAAK,CAAE,OAAO,CACd,MAAM,CAAE,IAAI,CACZ,YAAY,CAAE,GAAG,AACf,CAAC,AAED,QAAQ,eAAC,CAAC,AACN,KAAK,CAAE,IAAI,CACX,OAAO,CAAE,IAAI,AACjB,CAAC"
}