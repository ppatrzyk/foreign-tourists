var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function r(t){t.forEach(n)}function i(t){return"function"==typeof t}function o(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function u(n,e,r){n.$$.on_destroy.push(function(n,...e){if(null==n)return t;const r=n.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}(e,r))}function a(t,n){t.appendChild(n)}function l(t,n,e){t.insertBefore(n,e||null)}function c(t){t.parentNode.removeChild(t)}function s(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function f(t){return document.createElement(t)}function h(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function p(t){return document.createTextNode(t)}function d(){return p(" ")}function g(t,n,e,r){return t.addEventListener(n,e,r),()=>t.removeEventListener(n,e,r)}function m(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function y(t,n,e){t.setAttributeNS("http://www.w3.org/1999/xlink",n,e)}function v(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function w(t,n){for(let e=0;e<t.options.length;e+=1){const r=t.options[e];if(r.__value===n)return void(r.selected=!0)}}function $(t){const n=t.querySelector(":checked")||t.options[0];return n&&n.__value}let b;function _(t){b=t}function x(t){(function(){if(!b)throw new Error("Function called outside component initialization");return b})().$$.on_mount.push(t)}const M=[],E=[],S=[],N=[],k=Promise.resolve();let A=!1;function j(t){S.push(t)}let z=!1;const L=new Set;function C(){if(!z){z=!0;do{for(let t=0;t<M.length;t+=1){const n=M[t];_(n),O(n.$$)}for(_(null),M.length=0;E.length;)E.pop()();for(let t=0;t<S.length;t+=1){const n=S[t];L.has(n)||(L.add(n),n())}S.length=0}while(M.length);for(;N.length;)N.pop()();A=!1,z=!1,L.clear()}}function O(t){if(null!==t.fragment){t.update(),r(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(j)}}const P=new Set;let I;function R(){I={r:0,c:[],p:I}}function T(){I.r||r(I.c),I=I.p}function K(t,n){t&&t.i&&(P.delete(t),t.i(n))}function B(t,n,e,r){if(t&&t.o){if(P.has(t))return;P.add(t),I.c.push((()=>{P.delete(t),r&&(e&&t.d(1),r())})),t.o(n)}}function q(t){t&&t.c()}function D(t,e,o){const{fragment:u,on_mount:a,on_destroy:l,after_update:c}=t.$$;u&&u.m(e,o),j((()=>{const e=a.map(n).filter(i);l?l.push(...e):r(e),t.$$.on_mount=[]})),c.forEach(j)}function U(t,n){const e=t.$$;null!==e.fragment&&(r(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function H(t,n){-1===t.$$.dirty[0]&&(M.push(t),A||(A=!0,k.then(C)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function F(n,i,o,u,a,l,s=[-1]){const f=b;_(n);const h=i.props||{},p=n.$$={fragment:null,ctx:null,props:l,update:t,not_equal:a,bound:e(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:e(),dirty:s,skip_bound:!1};let d=!1;if(p.ctx=o?o(n,h,((t,e,...r)=>{const i=r.length?r[0]:e;return p.ctx&&a(p.ctx[t],p.ctx[t]=i)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](i),d&&H(n,t)),e})):[],p.update(),d=!0,r(p.before_update),p.fragment=!!u&&u(p.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);p.fragment&&p.fragment.l(t),t.forEach(c)}else p.fragment&&p.fragment.c();i.intro&&K(n.$$.fragment),D(n,i.target,i.anchor),C()}_(f)}class V{$destroy(){U(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Z=[];function G(n,e=t){let r;const i=[];function u(t){if(o(n,t)&&(n=t,r)){const t=!Z.length;for(let t=0;t<i.length;t+=1){const e=i[t];e[1](),Z.push(e,n)}if(t){for(let t=0;t<Z.length;t+=2)Z[t][0](Z[t+1]);Z.length=0}}}return{set:u,update:function(t){u(t(n))},subscribe:function(o,a=t){const l=[o,a];return i.push(l),1===i.length&&(r=e(u)||t),o(n),()=>{const t=i.indexOf(l);-1!==t&&i.splice(t,1),0===i.length&&(r(),r=null)}}}}const W=G({mode:"bywojewodztwo",year:2019,country:"CZ",wojewodztwo:"DOLNOŚLĄSKIE"}),Y={subscribe:W.subscribe,set_variable:(t,n)=>{W.update((e=>(e[t]=n,e)))}},X=G({}),J=G({}),Q=G({});class tt{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let e=0;for(let r=0;r<this._n&&r<32;r++){const i=n[r],o=t+i,u=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);u&&(n[e++]=u),t=o}return n[e]=t,this._n=e+1,this}valueOf(){const t=this._partials;let n,e,r,i=this._n,o=0;if(i>0){for(o=t[--i];i>0&&(n=o,e=t[--i],o=n+e,r=e-(o-n),!r););i>0&&(r<0&&t[i-1]<0||r>0&&t[i-1]>0)&&(e=2*r,n=o+e,e==n-o&&(o=n))}return o}}var nt=Math.sqrt(50),et=Math.sqrt(10),rt=Math.sqrt(2);function it(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=nt?10:o>=et?5:o>=rt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=nt?10:o>=et?5:o>=rt?2:1)}function ot(t){return Array.from(function*(t){for(const n of t)yield*n}(t))}var ut=1e-6,at=Math.PI,lt=at/2,ct=at/4,st=2*at,ft=180/at,ht=at/180,pt=Math.abs,dt=Math.atan,gt=Math.atan2,mt=Math.cos,yt=Math.exp,vt=Math.log,wt=Math.sin,$t=Math.sign||function(t){return t>0?1:t<0?-1:0},bt=Math.sqrt,_t=Math.tan;function xt(t){return t>1?lt:t<-1?-lt:Math.asin(t)}function Mt(){}function Et(t,n){t&&Nt.hasOwnProperty(t.type)&&Nt[t.type](t,n)}var St={Feature:function(t,n){Et(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)Et(e[r].geometry,n)}},Nt={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){kt(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)kt(e[r],n,0)},Polygon:function(t,n){At(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)At(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)Et(e[r],n)}};function kt(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function At(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)kt(t[e],n,1);n.polygonEnd()}function jt(t,n){t&&St.hasOwnProperty(t.type)?St[t.type](t,n):Et(t,n)}function zt(t){return[gt(t[1],t[0]),xt(t[2])]}function Lt(t){var n=t[0],e=t[1],r=mt(e);return[r*mt(n),r*wt(n),wt(e)]}function Ct(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Ot(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Pt(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function It(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Rt(t){var n=bt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function Tt(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e}function Kt(t,n){return[pt(t)>at?t+Math.round(-t/st)*st:t,n]}function Bt(t,n,e){return(t%=st)?n||e?Tt(Dt(t),Ut(n,e)):Dt(t):n||e?Ut(n,e):Kt}function qt(t){return function(n,e){return[(n+=t)>at?n-st:n<-at?n+st:n,e]}}function Dt(t){var n=qt(t);return n.invert=qt(-t),n}function Ut(t,n){var e=mt(t),r=wt(t),i=mt(n),o=wt(n);function u(t,n){var u=mt(n),a=mt(t)*u,l=wt(t)*u,c=wt(n),s=c*e+a*r;return[gt(l*i-s*o,a*e-c*r),xt(s*i+l*o)]}return u.invert=function(t,n){var u=mt(n),a=mt(t)*u,l=wt(t)*u,c=wt(n),s=c*i-l*o;return[gt(l*i+c*o,a*e+s*r),xt(s*e-a*r)]},u}function Ht(t,n){(n=Lt(n))[0]-=t,Rt(n);var e,r=(e=-n[1])>1?0:e<-1?at:Math.acos(e);return((-n[2]<0?-r:r)+st-ut)%st}function Ft(){var t,n=[];return{point:function(n,e,r){t.push([n,e,r])},lineStart:function(){n.push(t=[])},lineEnd:Mt,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function Vt(t,n){return pt(t[0]-n[0])<ut&&pt(t[1]-n[1])<ut}function Zt(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Gt(t,n,e,r,i){var o,u,a=[],l=[];if(t.forEach((function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],u=t[n];if(Vt(r,u)){if(!r[2]&&!u[2]){for(i.lineStart(),o=0;o<n;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}u[0]+=2e-6}a.push(e=new Zt(r,t,null,!0)),l.push(e.o=new Zt(r,null,e,!1)),a.push(e=new Zt(u,t,null,!1)),l.push(e.o=new Zt(u,null,e,!0))}})),a.length){for(l.sort(n),Wt(a),Wt(l),o=0,u=l.length;o<u;++o)l[o].e=e=!e;for(var c,s,f=a[0];;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(o=0,u=c.length;o<u;++o)i.point((s=c[o])[0],s[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(c=h.p.z,o=c.length-1;o>=0;--o)i.point((s=c[o])[0],s[1]);else r(h.x,h.p.x,-1,i);h=h.p}c=(h=h.o).z,p=!p}while(!h.v);i.lineEnd()}}}function Wt(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}function Yt(t){return pt(t[0])<=at?t[0]:$t(t[0])*((pt(t[0])+at)%st-at)}function Xt(t,n,e,r){return function(i){var o,u,a,l=n(i),c=Ft(),s=n(c),f=!1,h={point:p,lineStart:g,lineEnd:m,polygonStart:function(){h.point=y,h.lineStart=v,h.lineEnd=w,u=[],o=[]},polygonEnd:function(){h.point=p,h.lineStart=g,h.lineEnd=m,u=ot(u);var t=function(t,n){var e=Yt(n),r=n[1],i=wt(r),o=[wt(e),-mt(e),0],u=0,a=0,l=new tt;1===i?r=lt+ut:-1===i&&(r=-lt-ut);for(var c=0,s=t.length;c<s;++c)if(h=(f=t[c]).length)for(var f,h,p=f[h-1],d=Yt(p),g=p[1]/2+ct,m=wt(g),y=mt(g),v=0;v<h;++v,d=$,m=_,y=x,p=w){var w=f[v],$=Yt(w),b=w[1]/2+ct,_=wt(b),x=mt(b),M=$-d,E=M>=0?1:-1,S=E*M,N=S>at,k=m*_;if(l.add(gt(k*E*wt(S),y*x+k*mt(S))),u+=N?M+E*st:M,N^d>=e^$>=e){var A=Ot(Lt(p),Lt(w));Rt(A);var j=Ot(o,A);Rt(j);var z=(N^M>=0?-1:1)*xt(j[2]);(r>z||r===z&&(A[0]||A[1]))&&(a+=N^M>=0?1:-1)}}return(u<-ut||u<ut&&l<-1e-12)^1&a}(o,r);u.length?(f||(i.polygonStart(),f=!0),Gt(u,Qt,t,e,i)):t&&(f||(i.polygonStart(),f=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),u=o=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(n,e){t(n,e)&&i.point(n,e)}function d(t,n){l.point(t,n)}function g(){h.point=d,l.lineStart()}function m(){h.point=p,l.lineEnd()}function y(t,n){a.push([t,n]),s.point(t,n)}function v(){s.lineStart(),a=[]}function w(){y(a[0][0],a[0][1]),s.lineEnd();var t,n,e,r,l=s.clean(),h=c.result(),p=h.length;if(a.pop(),o.push(a),a=null,p)if(1&l){if((n=(e=h[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}}else p>1&&2&l&&h.push(h.pop().concat(h.shift())),u.push(h.filter(Jt))}return h}}function Jt(t){return t.length>1}function Qt(t,n){return((t=t.x)[0]<0?t[1]-lt-ut:lt-t[1])-((n=n.x)[0]<0?n[1]-lt-ut:lt-n[1])}Kt.invert=Kt;var tn=Xt((function(){return!0}),(function(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,u){var a=o>0?at:-at,l=pt(o-e);pt(l-at)<ut?(t.point(e,r=(r+u)/2>0?lt:-lt),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),t.point(o,r),n=0):i!==a&&l>=at&&(pt(e-i)<ut&&(e-=i*ut),pt(o-a)<ut&&(o-=a*ut),r=function(t,n,e,r){var i,o,u=wt(t-e);return pt(u)>ut?dt((wt(n)*(o=mt(r))*wt(e)-wt(r)*(i=mt(n))*wt(t))/(i*o*u)):(n+r)/2}(e,r,o,u),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),n=0),t.point(e=o,r=u),i=a},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}}),(function(t,n,e,r){var i;if(null==t)i=e*lt,r.point(-at,i),r.point(0,i),r.point(at,i),r.point(at,0),r.point(at,-i),r.point(0,-i),r.point(-at,-i),r.point(-at,0),r.point(-at,i);else if(pt(t[0]-n[0])>ut){var o=t[0]<n[0]?at:-at;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])}),[-at,-lt]);function nn(t){var n=mt(t),e=6*ht,r=n>0,i=pt(n)>ut;function o(t,e){return mt(t)*mt(e)>n}function u(t,e,r){var i=[1,0,0],o=Ot(Lt(t),Lt(e)),u=Ct(o,o),a=o[0],l=u-a*a;if(!l)return!r&&t;var c=n*u/l,s=-n*a/l,f=Ot(i,o),h=It(i,c);Pt(h,It(o,s));var p=f,d=Ct(h,p),g=Ct(p,p),m=d*d-g*(Ct(h,h)-1);if(!(m<0)){var y=bt(m),v=It(p,(-d-y)/g);if(Pt(v,h),v=zt(v),!r)return v;var w,$=t[0],b=e[0],_=t[1],x=e[1];b<$&&(w=$,$=b,b=w);var M=b-$,E=pt(M-at)<ut;if(!E&&x<_&&(w=_,_=x,x=w),E||M<ut?E?_+x>0^v[1]<(pt(v[0]-$)<ut?_:x):_<=v[1]&&v[1]<=x:M>at^($<=v[0]&&v[0]<=b)){var S=It(p,(-d+y)/g);return Pt(S,h),[v,zt(S)]}}}function a(n,e){var i=r?t:at-t,o=0;return n<-i?o|=1:n>i&&(o|=2),e<-i?o|=4:e>i&&(o|=8),o}return Xt(o,(function(t){var n,e,l,c,s;return{lineStart:function(){c=l=!1,s=1},point:function(f,h){var p,d=[f,h],g=o(f,h),m=r?g?0:a(f,h):g?a(f+(f<0?at:-at),h):0;if(!n&&(c=l=g)&&t.lineStart(),g!==l&&(!(p=u(n,d))||Vt(n,p)||Vt(d,p))&&(d[2]=1),g!==l)s=0,g?(t.lineStart(),p=u(d,n),t.point(p[0],p[1])):(p=u(n,d),t.point(p[0],p[1],2),t.lineEnd()),n=p;else if(i&&n&&r^g){var y;m&e||!(y=u(d,n,!0))||(s=0,r?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1],3)))}!g||n&&Vt(n,d)||t.point(d[0],d[1]),n=d,l=g,e=m},lineEnd:function(){l&&t.lineEnd(),n=null},clean:function(){return s|(c&&l)<<1}}}),(function(n,r,i,o){!function(t,n,e,r,i,o){if(e){var u=mt(n),a=wt(n),l=r*e;null==i?(i=n+r*st,o=n-l/2):(i=Ht(u,i),o=Ht(u,o),(r>0?i<o:i>o)&&(i+=r*st));for(var c,s=i;r>0?s>o:s<o;s-=l)c=zt([u,-a*mt(s),-a*wt(s)]),t.point(c[0],c[1])}}(o,t,e,i,n,r)}),r?[0,-t]:[-at,t-at])}var en=1e9,rn=-en;function on(t,n,e,r){function i(i,o){return t<=i&&i<=e&&n<=o&&o<=r}function o(i,o,a,c){var s=0,f=0;if(null==i||(s=u(i,a))!==(f=u(o,a))||l(i,o)<0^a>0)do{c.point(0===s||3===s?t:e,s>1?r:n)}while((s=(s+a+4)%4)!==f);else c.point(o[0],o[1])}function u(r,i){return pt(r[0]-t)<ut?i>0?0:3:pt(r[0]-e)<ut?i>0?2:1:pt(r[1]-n)<ut?i>0?1:0:i>0?3:2}function a(t,n){return l(t.x,n.x)}function l(t,n){var e=u(t,1),r=u(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(u){var l,c,s,f,h,p,d,g,m,y,v,w=u,$=Ft(),b={point:_,lineStart:function(){b.point=x,c&&c.push(s=[]);y=!0,m=!1,d=g=NaN},lineEnd:function(){l&&(x(f,h),p&&m&&$.rejoin(),l.push($.result()));b.point=_,m&&w.lineEnd()},polygonStart:function(){w=$,l=[],c=[],v=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,i=c.length;e<i;++e)for(var o,u,a=c[e],l=1,s=a.length,f=a[0],h=f[0],p=f[1];l<s;++l)o=h,u=p,h=(f=a[l])[0],p=f[1],u<=r?p>r&&(h-o)*(r-u)>(p-u)*(t-o)&&++n:p<=r&&(h-o)*(r-u)<(p-u)*(t-o)&&--n;return n}(),e=v&&n,i=(l=ot(l)).length;(e||i)&&(u.polygonStart(),e&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),i&&Gt(l,a,n,o,u),u.polygonEnd());w=u,l=c=s=null}};function _(t,n){i(t,n)&&w.point(t,n)}function x(o,u){var a=i(o,u);if(c&&s.push([o,u]),y)f=o,h=u,p=a,y=!1,a&&(w.lineStart(),w.point(o,u));else if(a&&m)w.point(o,u);else{var l=[d=Math.max(rn,Math.min(en,d)),g=Math.max(rn,Math.min(en,g))],$=[o=Math.max(rn,Math.min(en,o)),u=Math.max(rn,Math.min(en,u))];!function(t,n,e,r,i,o){var u,a=t[0],l=t[1],c=0,s=1,f=n[0]-a,h=n[1]-l;if(u=e-a,f||!(u>0)){if(u/=f,f<0){if(u<c)return;u<s&&(s=u)}else if(f>0){if(u>s)return;u>c&&(c=u)}if(u=i-a,f||!(u<0)){if(u/=f,f<0){if(u>s)return;u>c&&(c=u)}else if(f>0){if(u<c)return;u<s&&(s=u)}if(u=r-l,h||!(u>0)){if(u/=h,h<0){if(u<c)return;u<s&&(s=u)}else if(h>0){if(u>s)return;u>c&&(c=u)}if(u=o-l,h||!(u<0)){if(u/=h,h<0){if(u>s)return;u>c&&(c=u)}else if(h>0){if(u<c)return;u<s&&(s=u)}return c>0&&(t[0]=a+c*f,t[1]=l+c*h),s<1&&(n[0]=a+s*f,n[1]=l+s*h),!0}}}}}(l,$,t,n,e,r)?a&&(w.lineStart(),w.point(o,u),v=!1):(m||(w.lineStart(),w.point(l[0],l[1])),w.point($[0],$[1]),a||w.lineEnd(),v=!1)}d=o,g=u,m=a}return b}}var un,an,ln,cn,sn=t=>t,fn=new tt,hn=new tt,pn={point:Mt,lineStart:Mt,lineEnd:Mt,polygonStart:function(){pn.lineStart=dn,pn.lineEnd=yn},polygonEnd:function(){pn.lineStart=pn.lineEnd=pn.point=Mt,fn.add(pt(hn)),hn=new tt},result:function(){var t=fn/2;return fn=new tt,t}};function dn(){pn.point=gn}function gn(t,n){pn.point=mn,un=ln=t,an=cn=n}function mn(t,n){hn.add(cn*t-ln*n),ln=t,cn=n}function yn(){mn(un,an)}var vn=1/0,wn=vn,$n=-vn,bn=$n,_n={point:function(t,n){t<vn&&(vn=t);t>$n&&($n=t);n<wn&&(wn=n);n>bn&&(bn=n)},lineStart:Mt,lineEnd:Mt,polygonStart:Mt,polygonEnd:Mt,result:function(){var t=[[vn,wn],[$n,bn]];return $n=bn=-(wn=vn=1/0),t}};var xn,Mn,En,Sn,Nn=0,kn=0,An=0,jn=0,zn=0,Ln=0,Cn=0,On=0,Pn=0,In={point:Rn,lineStart:Tn,lineEnd:qn,polygonStart:function(){In.lineStart=Dn,In.lineEnd=Un},polygonEnd:function(){In.point=Rn,In.lineStart=Tn,In.lineEnd=qn},result:function(){var t=Pn?[Cn/Pn,On/Pn]:Ln?[jn/Ln,zn/Ln]:An?[Nn/An,kn/An]:[NaN,NaN];return Nn=kn=An=jn=zn=Ln=Cn=On=Pn=0,t}};function Rn(t,n){Nn+=t,kn+=n,++An}function Tn(){In.point=Kn}function Kn(t,n){In.point=Bn,Rn(En=t,Sn=n)}function Bn(t,n){var e=t-En,r=n-Sn,i=bt(e*e+r*r);jn+=i*(En+t)/2,zn+=i*(Sn+n)/2,Ln+=i,Rn(En=t,Sn=n)}function qn(){In.point=Rn}function Dn(){In.point=Hn}function Un(){Fn(xn,Mn)}function Hn(t,n){In.point=Fn,Rn(xn=En=t,Mn=Sn=n)}function Fn(t,n){var e=t-En,r=n-Sn,i=bt(e*e+r*r);jn+=i*(En+t)/2,zn+=i*(Sn+n)/2,Ln+=i,Cn+=(i=Sn*t-En*n)*(En+t),On+=i*(Sn+n),Pn+=3*i,Rn(En=t,Sn=n)}function Vn(t){this._context=t}Vn.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,st)}},result:Mt};var Zn,Gn,Wn,Yn,Xn,Jn=new tt,Qn={point:Mt,lineStart:function(){Qn.point=te},lineEnd:function(){Zn&&ne(Gn,Wn),Qn.point=Mt},polygonStart:function(){Zn=!0},polygonEnd:function(){Zn=null},result:function(){var t=+Jn;return Jn=new tt,t}};function te(t,n){Qn.point=ne,Gn=Yn=t,Wn=Xn=n}function ne(t,n){Yn-=t,Xn-=n,Jn.add(bt(Yn*Yn+Xn*Xn)),Yn=t,Xn=n}function ee(){this._string=[]}function re(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function ie(t){return function(n){var e=new oe;for(var r in t)e[r]=t[r];return e.stream=n,e}}function oe(){}function ue(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),jt(e,t.stream(_n)),n(_n.result()),null!=r&&t.clipExtent(r),t}function ae(t,n,e){return ue(t,(function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],o=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),u=+n[0][0]+(r-o*(e[1][0]+e[0][0]))/2,a=+n[0][1]+(i-o*(e[1][1]+e[0][1]))/2;t.scale(150*o).translate([u,a])}),e)}ee.prototype={_radius:4.5,_circle:re(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=re(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},oe.prototype={constructor:oe,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var le=mt(30*ht);function ce(t,n){return+n?function(t,n){function e(r,i,o,u,a,l,c,s,f,h,p,d,g,m){var y=c-r,v=s-i,w=y*y+v*v;if(w>4*n&&g--){var $=u+h,b=a+p,_=l+d,x=bt($*$+b*b+_*_),M=xt(_/=x),E=pt(pt(_)-1)<ut||pt(o-f)<ut?(o+f)/2:gt(b,$),S=t(E,M),N=S[0],k=S[1],A=N-r,j=k-i,z=v*A-y*j;(z*z/w>n||pt((y*A+v*j)/w-.5)>.3||u*h+a*p+l*d<le)&&(e(r,i,o,u,a,l,N,k,E,$/=x,b/=x,_,g,m),m.point(N,k),e(N,k,E,$,b,_,c,s,f,h,p,d,g,m))}}return function(n){var r,i,o,u,a,l,c,s,f,h,p,d,g={point:m,lineStart:y,lineEnd:w,polygonStart:function(){n.polygonStart(),g.lineStart=$},polygonEnd:function(){n.polygonEnd(),g.lineStart=y}};function m(e,r){e=t(e,r),n.point(e[0],e[1])}function y(){s=NaN,g.point=v,n.lineStart()}function v(r,i){var o=Lt([r,i]),u=t(r,i);e(s,f,c,h,p,d,s=u[0],f=u[1],c=r,h=o[0],p=o[1],d=o[2],16,n),n.point(s,f)}function w(){g.point=m,n.lineEnd()}function $(){y(),g.point=b,g.lineEnd=_}function b(t,n){v(r=t,n),i=s,o=f,u=h,a=p,l=d,g.point=v}function _(){e(s,f,c,h,p,d,i,o,r,u,a,l,16,n),g.lineEnd=w,w()}return g}}(t,n):function(t){return ie({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)}var se=ie({point:function(t,n){this.stream.point(t*ht,n*ht)}});function fe(t,n,e,r,i,o){if(!o)return function(t,n,e,r,i){function o(o,u){return[n+t*(o*=r),e-t*(u*=i)]}return o.invert=function(o,u){return[(o-n)/t*r,(e-u)/t*i]},o}(t,n,e,r,i);var u=mt(o),a=wt(o),l=u*t,c=a*t,s=u/t,f=a/t,h=(a*e-u*n)/t,p=(a*n+u*e)/t;function d(t,o){return[l*(t*=r)-c*(o*=i)+n,e-c*t-l*o]}return d.invert=function(t,n){return[r*(s*t-f*n+h),i*(p-f*t-s*n)]},d}function he(t){return function(t){var n,e,r,i,o,u,a,l,c,s,f=150,h=480,p=250,d=0,g=0,m=0,y=0,v=0,w=0,$=1,b=1,_=null,x=tn,M=null,E=sn,S=.5;function N(t){return l(t[0]*ht,t[1]*ht)}function k(t){return(t=l.invert(t[0],t[1]))&&[t[0]*ft,t[1]*ft]}function A(){var t=fe(f,0,0,$,b,w).apply(null,n(d,g)),r=fe(f,h-t[0],p-t[1],$,b,w);return e=Bt(m,y,v),a=Tt(n,r),l=Tt(e,a),u=ce(a,S),j()}function j(){return c=s=null,N}return N.stream=function(t){return c&&s===t?c:c=se(function(t){return ie({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}(e)(x(u(E(s=t)))))},N.preclip=function(t){return arguments.length?(x=t,_=void 0,j()):x},N.postclip=function(t){return arguments.length?(E=t,M=r=i=o=null,j()):E},N.clipAngle=function(t){return arguments.length?(x=+t?nn(_=t*ht):(_=null,tn),j()):_*ft},N.clipExtent=function(t){return arguments.length?(E=null==t?(M=r=i=o=null,sn):on(M=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),j()):null==M?null:[[M,r],[i,o]]},N.scale=function(t){return arguments.length?(f=+t,A()):f},N.translate=function(t){return arguments.length?(h=+t[0],p=+t[1],A()):[h,p]},N.center=function(t){return arguments.length?(d=t[0]%360*ht,g=t[1]%360*ht,A()):[d*ft,g*ft]},N.rotate=function(t){return arguments.length?(m=t[0]%360*ht,y=t[1]%360*ht,v=t.length>2?t[2]%360*ht:0,A()):[m*ft,y*ft,v*ft]},N.angle=function(t){return arguments.length?(w=t%360*ht,A()):w*ft},N.reflectX=function(t){return arguments.length?($=t?-1:1,A()):$<0},N.reflectY=function(t){return arguments.length?(b=t?-1:1,A()):b<0},N.precision=function(t){return arguments.length?(u=ce(a,S=t*t),j()):bt(S)},N.fitExtent=function(t,n){return ae(N,t,n)},N.fitSize=function(t,n){return function(t,n,e){return ae(t,[[0,0],n],e)}(N,t,n)},N.fitWidth=function(t,n){return function(t,n,e){return ue(t,(function(e){var r=+n,i=r/(e[1][0]-e[0][0]),o=(r-i*(e[1][0]+e[0][0]))/2,u=-i*e[0][1];t.scale(150*i).translate([o,u])}),e)}(N,t,n)},N.fitHeight=function(t,n){return function(t,n,e){return ue(t,(function(e){var r=+n,i=r/(e[1][1]-e[0][1]),o=-i*e[0][0],u=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([o,u])}),e)}(N,t,n)},function(){return n=t.apply(this,arguments),N.invert=n.invert&&k,A()}}((function(){return t}))()}function pe(t,n){return[t,vt(_t((lt+n)/2))]}function de(){return function(t){var n,e,r,i=he(t),o=i.center,u=i.scale,a=i.translate,l=i.clipExtent,c=null;function s(){var o=at*u(),a=i(function(t){function n(n){return(n=t(n[0]*ht,n[1]*ht))[0]*=ft,n[1]*=ft,n}return t=Bt(t[0]*ht,t[1]*ht,t.length>2?t[2]*ht:0),n.invert=function(n){return(n=t.invert(n[0]*ht,n[1]*ht))[0]*=ft,n[1]*=ft,n},n}(i.rotate()).invert([0,0]));return l(null==c?[[a[0]-o,a[1]-o],[a[0]+o,a[1]+o]]:t===pe?[[Math.max(a[0]-o,c),n],[Math.min(a[0]+o,e),r]]:[[c,Math.max(a[1]-o,n)],[e,Math.min(a[1]+o,r)]])}return i.scale=function(t){return arguments.length?(u(t),s()):u()},i.translate=function(t){return arguments.length?(a(t),s()):a()},i.center=function(t){return arguments.length?(o(t),s()):o()},i.clipExtent=function(t){return arguments.length?(null==t?c=n=e=r=null:(c=+t[0][0],n=+t[0][1],e=+t[1][0],r=+t[1][1]),s()):null==c?null:[[c,n],[e,r]]},s()}(pe).scale(961/st)}pe.invert=function(t,n){return[t,2*dt(yt(n))-lt]};var ge="http://www.w3.org/1999/xhtml",me={svg:"http://www.w3.org/2000/svg",xhtml:ge,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ye(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),me.hasOwnProperty(n)?{space:me[n],local:t}:t}function ve(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===ge&&n.documentElement.namespaceURI===ge?n.createElement(t):n.createElementNS(e,t)}}function we(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function $e(t){var n=ye(t);return(n.local?we:ve)(n)}function be(){}function _e(t){return null==t?be:function(){return this.querySelector(t)}}function xe(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Me(){return[]}function Ee(t){return function(n){return n.matches(t)}}var Se=Array.prototype.find;function Ne(){return this.firstElementChild}var ke=Array.prototype.filter;function Ae(){return this.children}function je(t){return new Array(t.length)}function ze(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function Le(t){return function(){return t}}function Ce(t,n,e,r,i,o){for(var u,a=0,l=n.length,c=o.length;a<c;++a)(u=n[a])?(u.__data__=o[a],r[a]=u):e[a]=new ze(t,o[a]);for(;a<l;++a)(u=n[a])&&(i[a]=u)}function Oe(t,n,e,r,i,o,u){var a,l,c,s=new Map,f=n.length,h=o.length,p=new Array(f);for(a=0;a<f;++a)(l=n[a])&&(p[a]=c=u.call(l,l.__data__,a,n)+"",s.has(c)?i[a]=l:s.set(c,l));for(a=0;a<h;++a)c=u.call(t,o[a],a,o)+"",(l=s.get(c))?(r[a]=l,l.__data__=o[a],s.delete(c)):e[a]=new ze(t,o[a]);for(a=0;a<f;++a)(l=n[a])&&s.get(p[a])===l&&(i[a]=l)}function Pe(t){return t.__data__}function Ie(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Re(t){return function(){this.removeAttribute(t)}}function Te(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ke(t,n){return function(){this.setAttribute(t,n)}}function Be(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function qe(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function De(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Ue(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function He(t){return function(){this.style.removeProperty(t)}}function Fe(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Ve(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function Ze(t,n){return t.style.getPropertyValue(n)||Ue(t).getComputedStyle(t,null).getPropertyValue(n)}function Ge(t){return function(){delete this[t]}}function We(t,n){return function(){this[t]=n}}function Ye(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function Xe(t){return t.trim().split(/^|\s+/)}function Je(t){return t.classList||new Qe(t)}function Qe(t){this._node=t,this._names=Xe(t.getAttribute("class")||"")}function tr(t,n){for(var e=Je(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function nr(t,n){for(var e=Je(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function er(t){return function(){tr(this,t)}}function rr(t){return function(){nr(this,t)}}function ir(t,n){return function(){(n.apply(this,arguments)?tr:nr)(this,t)}}function or(){this.textContent=""}function ur(t){return function(){this.textContent=t}}function ar(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function lr(){this.innerHTML=""}function cr(t){return function(){this.innerHTML=t}}function sr(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function fr(){this.nextSibling&&this.parentNode.appendChild(this)}function hr(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function pr(){return null}function dr(){var t=this.parentNode;t&&t.removeChild(this)}function gr(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function mr(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function yr(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function vr(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.options);++i?n.length=i:delete this.__on}}}function wr(t,n,e){return function(){var r,i=this.__on,o=function(t){return function(n){t.call(this,n,this.__data__)}}(n);if(i)for(var u=0,a=i.length;u<a;++u)if((r=i[u]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=e),void(r.value=n);this.addEventListener(t.type,o,e),r={type:t.type,name:t.name,value:n,listener:o,options:e},i?i.push(r):this.__on=[r]}}function $r(t,n,e){var r=Ue(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function br(t,n){return function(){return $r(this,t,n)}}function _r(t,n){return function(){return $r(this,t,n.apply(this,arguments))}}ze.prototype={constructor:ze,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},Qe.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var xr=[null];function Mr(t,n){this._groups=t,this._parents=n}function Er(t){return"string"==typeof t?new Mr([[document.querySelector(t)]],[document.documentElement]):new Mr([[t]],xr)}function Sr(t,n){switch(arguments.length){case 0:break;case 1:"function"==typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"==typeof n?this.interpolator(n):this.range(n)}return this}function Nr(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function kr(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Ar(){}Mr.prototype=function(){return new Mr([[document.documentElement]],xr)}.prototype={constructor:Mr,select:function(t){"function"!=typeof t&&(t=_e(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u,a=n[i],l=a.length,c=r[i]=new Array(l),s=0;s<l;++s)(o=a[s])&&(u=t.call(o,o.__data__,s,a))&&("__data__"in o&&(u.__data__=o.__data__),c[s]=u);return new Mr(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);return null==n?[]:xe(n)}}(t):function(t){return null==t?Me:function(){return this.querySelectorAll(t)}}(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var u,a=n[o],l=a.length,c=0;c<l;++c)(u=a[c])&&(r.push(t.call(u,u.__data__,c,a)),i.push(u));return new Mr(r,i)},selectChild:function(t){return this.select(null==t?Ne:function(t){return function(){return Se.call(this.children,t)}}("function"==typeof t?t:Ee(t)))},selectChildren:function(t){return this.selectAll(null==t?Ae:function(t){return function(){return ke.call(this.children,t)}}("function"==typeof t?t:Ee(t)))},filter:function(t){"function"!=typeof t&&(t=function(t){return function(){return this.matches(t)}}(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,l=r[i]=[],c=0;c<a;++c)(o=u[c])&&t.call(o,o.__data__,c,u)&&l.push(o);return new Mr(r,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,Pe);var e=n?Oe:Ce,r=this._parents,i=this._groups;"function"!=typeof t&&(t=Le(t));for(var o=i.length,u=new Array(o),a=new Array(o),l=new Array(o),c=0;c<o;++c){var s=r[c],f=i[c],h=f.length,p=xe(t.call(s,s&&s.__data__,c,r)),d=p.length,g=a[c]=new Array(d),m=u[c]=new Array(d),y=l[c]=new Array(h);e(s,f,g,m,y,p,n);for(var v,w,$=0,b=0;$<d;++$)if(v=g[$]){for($>=b&&(b=$+1);!(w=m[b])&&++b<d;);v._next=w||null}}return(u=new Mr(u,r))._enter=a,u._exit=l,u},enter:function(){return new Mr(this._enter||this._groups.map(je),this._parents)},exit:function(){return new Mr(this._exit||this._groups.map(je),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){if(!(t instanceof Mr))throw new Error("invalid merge");for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var l,c=n[a],s=e[a],f=c.length,h=u[a]=new Array(f),p=0;p<f;++p)(l=c[p]||s[p])&&(h[p]=l);for(;a<r;++a)u[a]=n[a];return new Mr(u,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,u=i[o];--o>=0;)(r=i[o])&&(u&&4^r.compareDocumentPosition(u)&&u.parentNode.insertBefore(r,u),u=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=Ie);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var u,a=e[o],l=a.length,c=i[o]=new Array(l),s=0;s<l;++s)(u=a[s])&&(c[s]=u);c.sort(n)}return new Mr(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null},size:function(){let t=0;for(const n of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],u=0,a=o.length;u<a;++u)(i=o[u])&&t.call(i,i.__data__,u,o);return this},attr:function(t,n){var e=ye(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?Te:Re:"function"==typeof n?e.local?De:qe:e.local?Be:Ke)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?He:"function"==typeof n?Ve:Fe)(t,n,null==e?"":e)):Ze(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?Ge:"function"==typeof n?Ye:We)(t,n)):this.node()[t]},classed:function(t,n){var e=Xe(t+"");if(arguments.length<2){for(var r=Je(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?ir:n?er:rr)(e,n))},text:function(t){return arguments.length?this.each(null==t?or:("function"==typeof t?ar:ur)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?lr:("function"==typeof t?sr:cr)(t)):this.node().innerHTML},raise:function(){return this.each(fr)},lower:function(){return this.each(hr)},append:function(t){var n="function"==typeof t?t:$e(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:$e(t),r=null==n?pr:"function"==typeof n?n:_e(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(dr)},clone:function(t){return this.select(t?mr:gr)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=yr(t+""),u=o.length;if(!(arguments.length<2)){for(a=n?wr:vr,r=0;r<u;++r)this.each(a(o[r],n,e));return this}var a=this.node().__on;if(a)for(var l,c=0,s=a.length;c<s;++c)for(r=0,l=a[c];r<u;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,n){return this.each(("function"==typeof n?_r:br)(t,n))},[Symbol.iterator]:function*(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r,i=t[n],o=0,u=i.length;o<u;++o)(r=i[o])&&(yield r)}};var jr=.7,zr=1/jr,Lr="\\s*([+-]?\\d+)\\s*",Cr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Or="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pr=/^#([0-9a-f]{3,8})$/,Ir=new RegExp("^rgb\\("+[Lr,Lr,Lr]+"\\)$"),Rr=new RegExp("^rgb\\("+[Or,Or,Or]+"\\)$"),Tr=new RegExp("^rgba\\("+[Lr,Lr,Lr,Cr]+"\\)$"),Kr=new RegExp("^rgba\\("+[Or,Or,Or,Cr]+"\\)$"),Br=new RegExp("^hsl\\("+[Cr,Or,Or]+"\\)$"),qr=new RegExp("^hsla\\("+[Cr,Or,Or,Cr]+"\\)$"),Dr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ur(){return this.rgb().formatHex()}function Hr(){return this.rgb().formatRgb()}function Fr(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Pr.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?Vr(n):3===e?new Yr(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?Zr(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?Zr(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=Ir.exec(t))?new Yr(n[1],n[2],n[3],1):(n=Rr.exec(t))?new Yr(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Tr.exec(t))?Zr(n[1],n[2],n[3],n[4]):(n=Kr.exec(t))?Zr(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Br.exec(t))?ti(n[1],n[2]/100,n[3]/100,1):(n=qr.exec(t))?ti(n[1],n[2]/100,n[3]/100,n[4]):Dr.hasOwnProperty(t)?Vr(Dr[t]):"transparent"===t?new Yr(NaN,NaN,NaN,0):null}function Vr(t){return new Yr(t>>16&255,t>>8&255,255&t,1)}function Zr(t,n,e,r){return r<=0&&(t=n=e=NaN),new Yr(t,n,e,r)}function Gr(t){return t instanceof Ar||(t=Fr(t)),t?new Yr((t=t.rgb()).r,t.g,t.b,t.opacity):new Yr}function Wr(t,n,e,r){return 1===arguments.length?Gr(t):new Yr(t,n,e,null==r?1:r)}function Yr(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Xr(){return"#"+Qr(this.r)+Qr(this.g)+Qr(this.b)}function Jr(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Qr(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function ti(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new ri(t,n,e,r)}function ni(t){if(t instanceof ri)return new ri(t.h,t.s,t.l,t.opacity);if(t instanceof Ar||(t=Fr(t)),!t)return new ri;if(t instanceof ri)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),u=NaN,a=o-i,l=(o+i)/2;return a?(u=n===o?(e-r)/a+6*(e<r):e===o?(r-n)/a+2:(n-e)/a+4,a/=l<.5?o+i:2-o-i,u*=60):a=l>0&&l<1?0:u,new ri(u,a,l,t.opacity)}function ei(t,n,e,r){return 1===arguments.length?ni(t):new ri(t,n,e,null==r?1:r)}function ri(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function ii(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}Nr(Ar,Fr,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Ur,formatHex:Ur,formatHsl:function(){return ni(this).formatHsl()},formatRgb:Hr,toString:Hr}),Nr(Yr,Wr,kr(Ar,{brighter:function(t){return t=null==t?zr:Math.pow(zr,t),new Yr(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?jr:Math.pow(jr,t),new Yr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Xr,formatHex:Xr,formatRgb:Jr,toString:Jr})),Nr(ri,ei,kr(Ar,{brighter:function(t){return t=null==t?zr:Math.pow(zr,t),new ri(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?jr:Math.pow(jr,t),new ri(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Yr(ii(t>=240?t-240:t+120,i,r),ii(t,i,r),ii(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var oi=t=>()=>t;function ui(t,n){return function(e){return t+e*n}}function ai(t){return 1==(t=+t)?li:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):oi(isNaN(n)?e:n)}}function li(t,n){var e=n-t;return e?ui(t,e):oi(isNaN(t)?n:t)}var ci=function t(n){var e=ai(n);function r(t,n){var r=e((t=Wr(t)).r,(n=Wr(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),u=li(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=u(n),t+""}}return r.gamma=t,r}(1);function si(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(o){for(e=0;e<r;++e)i[e]=t[e]*(1-o)+n[e]*o;return i}}function fi(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),u=new Array(r);for(e=0;e<i;++e)o[e]=vi(t[e],n[e]);for(;e<r;++e)u[e]=n[e];return function(t){for(e=0;e<i;++e)u[e]=o[e](t);return u}}function hi(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function pi(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function di(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=vi(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}var gi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mi=new RegExp(gi.source,"g");function yi(t,n){var e,r,i,o=gi.lastIndex=mi.lastIndex=0,u=-1,a=[],l=[];for(t+="",n+="";(e=gi.exec(t))&&(r=mi.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),a[u]?a[u]+=i:a[++u]=i),(e=e[0])===(r=r[0])?a[u]?a[u]+=r:a[++u]=r:(a[++u]=null,l.push({i:u,x:pi(e,r)})),o=mi.lastIndex;return o<n.length&&(i=n.slice(o),a[u]?a[u]+=i:a[++u]=i),a.length<2?l[0]?function(t){return function(n){return t(n)+""}}(l[0].x):function(t){return function(){return t}}(n):(n=l.length,function(t){for(var e,r=0;r<n;++r)a[(e=l[r]).i]=e.x(t);return a.join("")})}function vi(t,n){var e,r,i=typeof n;return null==n||"boolean"===i?oi(n):("number"===i?pi:"string"===i?(e=Fr(n))?(n=e,ci):yi:n instanceof Fr?ci:n instanceof Date?hi:(r=n,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(n)?fi:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?di:pi:si))(t,n)}function wi(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var $i=function(t){return function(n,e){var r=t((n=ei(n)).h,(e=ei(e)).h),i=li(n.s,e.s),o=li(n.l,e.l),u=li(n.opacity,e.opacity);return function(t){return n.h=r(t),n.s=i(t),n.l=o(t),n.opacity=u(t),n+""}}}((function(t,n){var e=n-t;return e?ui(t,e>180||e<-180?e-360*Math.round(e/360):e):oi(isNaN(t)?n:t)}));function bi(t){return t}function _i(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function xi(t){return(t=_i(Math.abs(t)))?t[1]:NaN}var Mi,Ei=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Si(t){if(!(n=Ei.exec(t)))throw new Error("invalid format: "+t);var n;return new Ni({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function Ni(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function ki(t,n){var e=_i(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Si.prototype=Ni.prototype,Ni.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Ai={"%":(t,n)=>(100*t).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>ki(100*t,n),r:ki,s:function(t,n){var e=_i(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(Mi=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,u=r.length;return o===u?r:o>u?r+new Array(o-u+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+_i(t,Math.max(0,n+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ji(t){return t}var zi,Li,Ci,Oi=Array.prototype.map,Pi=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ii(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?ji:(n=Oi.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,o=[],u=0,a=n[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(t.substring(i-=a,i+a)),!((l+=a+1)>r));)a=n[u=(u+1)%n.length];return o.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",u=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?ji:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(Oi.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"−":t.minus+"",s=void 0===t.nan?"NaN":t.nan+"";function f(t){var n=(t=Si(t)).fill,e=t.align,f=t.sign,h=t.symbol,p=t.zero,d=t.width,g=t.comma,m=t.precision,y=t.trim,v=t.type;"n"===v?(g=!0,v="g"):Ai[v]||(void 0===m&&(m=12),y=!0,v="g"),(p||"0"===n&&"="===e)&&(p=!0,n="0",e="=");var w="$"===h?i:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",$="$"===h?o:/[%p]/.test(v)?l:"",b=Ai[v],_=/[defgprs%]/.test(v);function x(t){var i,o,l,h=w,x=$;if("c"===v)x=b(t)+x,t="";else{var M=(t=+t)<0||1/t<0;if(t=isNaN(t)?s:b(Math.abs(t),m),y&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),M&&0==+t&&"+"!==f&&(M=!1),h=(M?"("===f?f:c:"-"===f||"("===f?"":f)+h,x=("s"===v?Pi[8+Mi/3]:"")+x+(M&&"("===f?")":""),_)for(i=-1,o=t.length;++i<o;)if(48>(l=t.charCodeAt(i))||l>57){x=(46===l?u+t.slice(i+1):t.slice(i))+x,t=t.slice(0,i);break}}g&&!p&&(t=r(t,1/0));var E=h.length+t.length+x.length,S=E<d?new Array(d-E+1).join(n):"";switch(g&&p&&(t=r(S+t,S.length?d-x.length:1/0),S=""),e){case"<":t=h+t+x+S;break;case"=":t=h+S+t+x;break;case"^":t=S.slice(0,E=S.length>>1)+h+t+x+S.slice(E);break;default:t=S+h+t+x}return a(t)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),x.toString=function(){return t+""},x}return{format:f,formatPrefix:function(t,n){var e=f(((t=Si(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(xi(n)/3))),i=Math.pow(10,-r),o=Pi[8+r/3];return function(t){return e(i*t)+o}}}}function Ri(t,n,e,r){var i,o=function(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=nt?i*=10:o>=et?i*=5:o>=rt&&(i*=2),n<t?-i:i}(t,n,e);switch((r=Si(null==r?",f":r)).type){case"s":var u=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(xi(n)/3)))-xi(Math.abs(t)))}(o,u))||(r.precision=i),Ci(r,u);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,xi(n)-xi(t))+1}(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-xi(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return Li(r)}function Ti(t){var n=t.domain;return t.ticks=function(t){var e=n();return function(t,n,e){var r,i,o,u,a=-1;if(e=+e,(t=+t)==(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(u=it(t,n,e))||!isFinite(u))return[];if(u>0)for(t=Math.ceil(t/u),n=Math.floor(n/u),o=new Array(i=Math.ceil(n-t+1));++a<i;)o[a]=(t+a)*u;else for(u=-u,t=Math.ceil(t*u),n=Math.floor(n*u),o=new Array(i=Math.ceil(n-t+1));++a<i;)o[a]=(t+a)/u;return r&&o.reverse(),o}(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return Ri(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i,o=n(),u=0,a=o.length-1,l=o[u],c=o[a],s=10;for(c<l&&(i=l,l=c,c=i,i=u,u=a,a=i);s-- >0;){if((i=it(l,c,e))===r)return o[u]=l,o[a]=c,n(o);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}function Ki(){var t,n,e,r,i,o=0,u=1,a=bi,l=!1;function c(n){return isNaN(n=+n)?i:a(0===e?.5:(n=(r(n)-t)*e,l?Math.max(0,Math.min(1,n)):n))}function s(t){return function(n){var e,r;return arguments.length?([e,r]=n,a=t(e,r),c):[a(0),a(1)]}}return c.domain=function(i){return arguments.length?([o,u]=i,t=r(o=+o),n=r(u=+u),e=t===n?0:1/(n-t),c):[o,u]},c.clamp=function(t){return arguments.length?(l=!!t,c):l},c.interpolator=function(t){return arguments.length?(a=t,c):a},c.range=s(vi),c.rangeRound=s(wi),c.unknown=function(t){return arguments.length?(i=t,c):i},function(i){return r=i,t=i(o),n=i(u),e=t===n?0:1/(n-t),c}}function Bi(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function qi(){var t=Ti(Ki()(bi));return t.copy=function(){return Bi(t,qi())},Sr.apply(t,arguments)}function Di(t,n,e){const r=t.slice();return r[10]=n[e],r}function Ui(t){let n,e,r,i;return{c(){n=h("pattern"),e=h("image"),y(e,"xlink:href",r="build/flag-icon-css/flags/1x1/"+t[10].toLowerCase()+".svg"),m(e,"preserveAspectRatio","none"),m(e,"width","1"),m(e,"height","1"),m(n,"id",i=t[10]),m(n,"height","100%"),m(n,"width","100%"),m(n,"patternContentUnits","objectBoundingBox")},m(t,r){l(t,n,r),a(n,e)},p(t,o){1&o&&r!==(r="build/flag-icon-css/flags/1x1/"+t[10].toLowerCase()+".svg")&&y(e,"xlink:href",r),1&o&&i!==(i=t[10])&&m(n,"id",i)},d(t){t&&c(n)}}}function Hi(n){let e,r,i,o,u=n[0],p=[];for(let t=0;t<u.length;t+=1)p[t]=Ui(Di(n,u,t));return{c(){e=f("div"),r=f("div"),i=h("svg"),o=h("defs");for(let t=0;t<p.length;t+=1)p[t].c();m(i,"id","map"),m(i,"width",Fi),m(i,"height",Vi)},m(t,n){l(t,e,n),a(e,r),a(r,i),a(i,o);for(let t=0;t<p.length;t+=1)p[t].m(o,null)},p(t,[n]){if(1&n){let e;for(u=t[0],e=0;e<u.length;e+=1){const r=Di(t,u,e);p[e]?p[e].p(r,n):(p[e]=Ui(r),p[e].c(),p[e].m(o,null))}for(;e<p.length;e+=1)p[e].d(1);p.length=u.length}},i:t,o:t,d(t){t&&c(e),s(p,t)}}}zi=Ii({thousands:",",grouping:[3],currency:["$",""]}),Li=zi.format,Ci=zi.formatPrefix;const Fi=600,Vi=600,Zi="#e6ffe6",Gi="#66ff66";function Wi(t,n,e){let r,i,o;u(t,Y,(t=>e(2,r=t))),u(t,X,(t=>e(3,i=t))),u(t,J,(t=>e(4,o=t)));const a=qi($i("#d6f5d6","#051505"));function l(t){const n=de().fitSize([Fi,Vi],t),e=function(t,n){var e,r,i=4.5;function o(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),jt(t,e(r))),r.result()}return o.area=function(t){return jt(t,e(pn)),pn.result()},o.measure=function(t){return jt(t,e(Qn)),Qn.result()},o.bounds=function(t){return jt(t,e(_n)),_n.result()},o.centroid=function(t){return jt(t,e(In)),In.result()},o.projection=function(n){return arguments.length?(e=null==n?(t=null,sn):(t=n).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(n=null,new ee):new Vn(n=t),"function"!=typeof i&&r.pointRadius(i),o):n},o.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(n)}().projection(n);var r=Er("#map");r.selectAll("path").data(t.features).enter().append("path").attr("d",e).attr("class","country-border"),r.selectAll("text").data(t.features).enter().append("text").text("").attr("class","map-label").attr("transform",(function(t){return"translate("+e.centroid(t)+")"})),r.selectAll("circle").data(t.features).enter().append("circle").attr("r",20).attr("opacity","0%").attr("transform",(function(t){return"translate("+e.centroid(t)+")"}))}function c(t){var n=t.mode,e=t.year,r=t.country,i=t.wojewodztwo;return"bycountry"===n?function(t,n){var e=Er("#map");e.selectAll("path").style("fill",(function(e){var r;try{r=e.properties.bycountry[n][t].year_prop}catch(t){}return r?a(r):Zi})),e.selectAll("text").text((function(e){var r;try{var i=e.properties.bycountry[n][t].year_prop;r=Math.round(100*i*100+Number.EPSILON)/100,r+="%"}catch(t){console.log(t),r="NA"}return r})),e.selectAll("circle").attr("opacity","0%")}(r,e):"bywojewodztwo"===n&&function(t,n){var e=Er("#map");e.selectAll("path").style("fill",(function(t){return t.properties.nazwa.toUpperCase()==n?Gi:Zi})),e.selectAll("text").text(""),e.selectAll("circle").attr("opacity","100%").attr("fill",(function(n){return`url(#${n.properties.bywojewodztwo[t].map((t=>t.country)).filter((t=>"OTHER"!=t))[0].toString()})`}))}(e,i),!0}let s,f;return x((async()=>{l(o),c(r)})),t.$$.update=()=>{4&t.$$.dirty&&(s=c(r)),8&t.$$.dirty&&e(0,f=Object.keys(i))},[f]}class Yi extends V{constructor(t){super(),F(this,t,Wi,Hi,o,{})}}function Xi(n){let e,r,o,u,s;return{c(){e=f("div"),r=f("div"),m(r,"class",o="myflag "+n[1]+" flag-icon-background flag-icon-"+n[0].toLowerCase()+" svelte-1krg4lm")},m(t,o){l(t,e,o),a(e,r),u||(s=g(r,"click",(function(){i(Y.set_variable("country",n[0]))&&Y.set_variable("country",n[0]).apply(this,arguments)})),u=!0)},p(t,[e]){n=t,3&e&&o!==(o="myflag "+n[1]+" flag-icon-background flag-icon-"+n[0].toLowerCase()+" svelte-1krg4lm")&&m(r,"class",o)},i:t,o:t,d(t){t&&c(e),u=!1,s()}}}function Ji(t,n,e){let r;u(t,Y,(t=>e(2,r=t)));let i,{country:o}=n;return t.$$set=t=>{"country"in t&&e(0,o=t.country)},t.$$.update=()=>{5&t.$$.dirty&&("bycountry"!==r.mode||r.country!==o?e(1,i="inactiveflag"):e(1,i="activeflag"))},[o,i]}class Qi extends V{constructor(t){super(),F(this,t,Ji,Xi,o,{country:0})}}function to(t,n,e){const r=t.slice();return r[12]=n[e],r}function no(t,n,e){const r=t.slice();return r[15]=n[e],r}function eo(t,n,e){const r=t.slice();return r[18]=n[e],r}function ro(n){let e,r,i,o,u=n[18].text+"";return{c(){e=f("option"),r=p(u),i=d(),e.__value=o=n[18],e.value=e.__value},m(t,n){l(t,e,n),a(e,r),a(e,i)},p:t,d(t){t&&c(e)}}}function io(n){let e,r,i,o,u=n[15]+"";return{c(){e=f("option"),r=p(u),i=d(),e.__value=o=n[15],e.value=e.__value},m(t,n){l(t,e,n),a(e,r),a(e,i)},p:t,d(t){t&&c(e)}}}function oo(n){let e,r,i,o,u=n[12].text+"";return{c(){e=f("option"),r=p(u),i=d(),e.__value=o=n[12],e.value=e.__value},m(t,n){l(t,e,n),a(e,r),a(e,i)},p:t,d(t){t&&c(e)}}}function uo(t){let n,e,r,i,o,u,s,h,d=t[4].year+"",g=t[4].wojewodztwo+"";return{c(){n=f("p"),e=p("The visualization shows the ranking of countries within each voivodeship in year "),r=f("strong"),i=p(d),o=p(".\n          Flags on the map indicate the top country of origin for each voivodeship.\n          The full ranking is currently displayed for "),u=f("strong"),s=p(g),h=p(" voivodeship (highlighted on the map).\n          Percentage indicates what proportion of all tourists in a given voivodeship do tourists from given country account for.")},m(t,c){l(t,n,c),a(n,e),a(n,r),a(r,i),a(n,o),a(n,u),a(u,s),a(n,h)},p(t,n){16&n&&d!==(d=t[4].year+"")&&v(i,d),16&n&&g!==(g=t[4].wojewodztwo+"")&&v(s,g)},d(t){t&&c(n)}}}function ao(t){let n,e,r,i,o,u,s,h,d,g,m,y,w,$,b=t[4].year+"";return{c(){n=f("p"),e=p("The visualization shows destinations of tourists from "),r=f("strong"),i=p(t[3]),o=p(" in year "),u=f("strong"),s=p(b),h=p(".\n          Percentage indicates the popularity of given destination (voivodeship), relative to the entrire traffic to Poland from "),d=f("strong"),g=p(t[3]),m=p(".\n          Table displays exact number of tourists from "),y=f("strong"),w=p(t[3]),$=p(" by year.\n          Click on a flag to change the country.")},m(t,c){l(t,n,c),a(n,e),a(n,r),a(r,i),a(n,o),a(n,u),a(u,s),a(n,h),a(n,d),a(d,g),a(n,m),a(n,y),a(y,w),a(n,$)},p(t,n){8&n&&v(i,t[3]),16&n&&b!==(b=t[4].year+"")&&v(s,b),8&n&&v(g,t[3]),8&n&&v(w,t[3])},d(t){t&&c(n)}}}function lo(t){let n,e,r,i,o,u=t[4].year+"";return{c(){n=f("p"),e=p("The following table shows ranking of countries by total number of tourists in year "),r=f("strong"),i=p(u),o=p(".")},m(t,u){l(t,n,u),a(n,e),a(n,r),a(r,i),a(n,o)},p(t,n){16&n&&u!==(u=t[4].year+"")&&v(i,u)},d(t){t&&c(n)}}}function co(n){let e,o,u,h,p,y,v,$,b,_,x,M,E,S,N,k,A,z,L,C,O,P,I,R,T,K,B,q,D,U=n[5],H=[];for(let t=0;t<U.length;t+=1)H[t]=ro(eo(n,U,t));let F=n[7],V=[];for(let t=0;t<F.length;t+=1)V[t]=io(no(n,F,t));let Z=n[6],G=[];for(let t=0;t<Z.length;t+=1)G[t]=oo(to(n,Z,t));function W(t,n){return"total"===t[4].mode?lo:"bycountry"==t[4].mode?ao:"bywojewodztwo"==t[4].mode?uo:void 0}let X=W(n),J=X&&X(n);return{c(){e=f("div"),o=f("h1"),o.textContent="Foreign Tourists in Poland",u=d(),h=f("div"),p=f("label"),p.textContent="Mode",y=d(),v=f("select");for(let t=0;t<H.length;t+=1)H[t].c();$=d(),b=f("div"),_=f("label"),_.textContent="Year",x=d(),M=f("select");for(let t=0;t<V.length;t+=1)V[t].c();E=d(),S=f("div"),N=f("label"),N.textContent="Voivodeship",k=d(),A=f("select");for(let t=0;t<G.length;t+=1)G[t].c();z=d(),L=f("div"),C=f("div"),C.innerHTML="Options:\n        <ul><li>Mode:\n            <ul><li>By voivodeship: shows distribution of foreign tourists within given region.</li> \n              <li>By country: shows distribution of destinations within given country of origin.</li> \n              <li>Total: shows total number of tourists by country of origin in the entire Poland.</li></ul></li> \n          <li>Year</li> \n          <li>Voivodeship (<em>województwo</em>): administrative region.</li></ul>",O=d(),J&&J.c(),P=d(),I=f("p"),I.innerHTML='View source code of this app on <a href="https://github.com/ppatrzyk/foreign-tourists" class="svelte-1ozye09">Github</a>.',R=d(),T=f("p"),T.innerHTML='Data source: <a href="https://bdl.stat.gov.pl/BDL/start" class="svelte-1ozye09">Główny Urząd Statystyczny</a>.',K=d(),B=f("p"),B.innerHTML='Note: This data is based on number of nights spent in hotels by foreign citizens. For details, see <a href="https://bdl.stat.gov.pl/BDL/start" class="svelte-1ozye09">documentation</a> (Category K18, Group G240, Subgroup P2759).',m(p,"for","mode"),m(v,"id","mode"),void 0===n[0]&&j((()=>n[8].call(v))),m(h,"class","svelte-1ozye09"),m(_,"for","year"),m(M,"id","year"),void 0===n[2]&&j((()=>n[9].call(M))),m(b,"class","svelte-1ozye09"),m(N,"for","woj"),m(A,"id","woj"),void 0===n[1]&&j((()=>n[10].call(A))),m(S,"class","svelte-1ozye09"),m(C,"class","svelte-1ozye09"),m(L,"class","desc svelte-1ozye09"),m(e,"class","svelte-1ozye09")},m(t,r){l(t,e,r),a(e,o),a(e,u),a(e,h),a(h,p),a(h,y),a(h,v);for(let t=0;t<H.length;t+=1)H[t].m(v,null);w(v,n[0]),a(e,$),a(e,b),a(b,_),a(b,x),a(b,M);for(let t=0;t<V.length;t+=1)V[t].m(M,null);w(M,n[2]),a(e,E),a(e,S),a(S,N),a(S,k),a(S,A);for(let t=0;t<G.length;t+=1)G[t].m(A,null);w(A,n[1]),a(e,z),a(e,L),a(L,C),a(L,O),J&&J.m(L,null),a(L,P),a(L,I),a(L,R),a(L,T),a(L,K),a(L,B),q||(D=[g(v,"change",n[8]),g(v,"change",(function(){i(Y.set_variable("mode",n[0].id))&&Y.set_variable("mode",n[0].id).apply(this,arguments)})),g(M,"change",n[9]),g(M,"change",(function(){i(Y.set_variable("year",n[2]))&&Y.set_variable("year",n[2]).apply(this,arguments)})),g(A,"change",n[10]),g(A,"change",(function(){i(Y.set_variable("wojewodztwo",n[1].id))&&Y.set_variable("wojewodztwo",n[1].id).apply(this,arguments)}))],q=!0)},p(t,[e]){if(n=t,32&e){let t;for(U=n[5],t=0;t<U.length;t+=1){const r=eo(n,U,t);H[t]?H[t].p(r,e):(H[t]=ro(r),H[t].c(),H[t].m(v,null))}for(;t<H.length;t+=1)H[t].d(1);H.length=U.length}if(33&e&&w(v,n[0]),128&e){let t;for(F=n[7],t=0;t<F.length;t+=1){const r=no(n,F,t);V[t]?V[t].p(r,e):(V[t]=io(r),V[t].c(),V[t].m(M,null))}for(;t<V.length;t+=1)V[t].d(1);V.length=F.length}if(132&e&&w(M,n[2]),64&e){let t;for(Z=n[6],t=0;t<Z.length;t+=1){const r=to(n,Z,t);G[t]?G[t].p(r,e):(G[t]=oo(r),G[t].c(),G[t].m(A,null))}for(;t<G.length;t+=1)G[t].d(1);G.length=Z.length}66&e&&w(A,n[1]),X===(X=W(n))&&J?J.p(n,e):(J&&J.d(1),J=X&&X(n),J&&(J.c(),J.m(L,P)))},i:t,o:t,d(t){t&&c(e),s(H,t),s(V,t),s(G,t),J&&J.d(),q=!1,r(D)}}}function so(t,n,e){let r,i;u(t,X,(t=>e(11,r=t))),u(t,Y,(t=>e(4,i=t)));let o,a,l,c=[{id:"bywojewodztwo",text:"By voivodeship"},{id:"bycountry",text:"By country"},{id:"total",text:"Total"}],s=[{id:"DOLNOŚLĄSKIE",text:"Dolnośląskie"},{id:"KUJAWSKO-POMORSKIE",text:"Kujawsko-Pomorskie"},{id:"LUBELSKIE",text:"Lubelskie"},{id:"LUBUSKIE",text:"Lubuskie"},{id:"ŁÓDZKIE",text:"Łódzkie"},{id:"MAZOWIECKIE",text:"Mazowieckie"},{id:"MAŁOPOLSKIE",text:"Małopolskie"},{id:"OPOLSKIE",text:"Opolskie"},{id:"PODKARPACKIE",text:"Podkarpackie"},{id:"PODLASKIE",text:"Podlaskie"},{id:"POMORSKIE",text:"Pomorskie"},{id:"ŚLĄSKIE",text:"Śląskie"},{id:"ŚWIĘTOKRZYSKIE",text:"Świętokrzyskie"},{id:"WARMIŃSKO-MAZURSKIE",text:"Warmińsko-Mazurskie"},{id:"WIELKOPOLSKIE",text:"Wielkopolskie"},{id:"ZACHODNIOPOMORSKIE",text:"Zachodniopomorskie"}],f=[2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019],h=2019;return t.$$.update=()=>{if(2064&t.$$.dirty)try{e(3,l=r[i.country].en)}catch(t){e(3,l="unknown")}},[o,a,h,l,i,c,s,f,function(){o=$(this),e(0,o),e(5,c)},function(){h=$(this),e(2,h),e(7,f)},function(){a=$(this),e(1,a),e(6,s)}]}class fo extends V{constructor(t){super(),F(this,t,so,co,o,{})}}function ho(t,n,e){const r=t.slice();return r[8]=n[e],r[10]=e,r}function po(t){let n,e;return{c(){n=f("h2"),e=p(t[2])},m(t,r){l(t,n,r),a(n,e)},p(t,n){4&n&&v(e,t[2])},d(t){t&&c(n)}}}function go(t){let n;return{c(){n=f("th"),n.textContent="Year"},m(t,e){l(t,n,e)},d(t){t&&c(n)}}}function mo(t){let n;return{c(){n=f("th"),n.textContent="Place"},m(t,e){l(t,n,e)},d(t){t&&c(n)}}}function yo(t){let n;return{c(){n=f("th"),n.textContent="Country"},m(t,e){l(t,n,e)},d(t){t&&c(n)}}}function vo(t){let n,e,r=t[8].year+"";return{c(){n=f("td"),e=p(r)},m(t,r){l(t,n,r),a(n,e)},p(t,n){2&n&&r!==(r=t[8].year+"")&&v(e,r)},d(t){t&&c(n)}}}function wo(n){let e,r,i=n[10]+1+"";return{c(){e=f("td"),r=p(i)},m(t,n){l(t,e,n),a(e,r)},p:t,d(t){t&&c(e)}}}function $o(t){let n,e,r,i,o,u=t[3][t[8].country].en+"";return{c(){n=f("td"),e=f("span"),i=d(),o=p(u),m(e,"class",r="tableflag flag-icon-background flag-icon-"+t[8].country.toLowerCase()+" svelte-1f99ybv")},m(t,r){l(t,n,r),a(n,e),a(n,i),a(n,o)},p(t,n){2&n&&r!==(r="tableflag flag-icon-background flag-icon-"+t[8].country.toLowerCase()+" svelte-1f99ybv")&&m(e,"class",r),10&n&&u!==(u=t[3][t[8].country].en+"")&&v(o,u)},d(t){t&&c(n)}}}function bo(t){let n,e,r,i,o,u,s,h,g,m=t[8].count+"",y=Math.round(100*t[8].year_prop*100+Number.EPSILON)/100+"";function w(t,n){return"countryts"!==t[0]?wo:vo}let $=w(t),b=$(t),_="countryts"!==t[0]&&$o(t);return{c(){n=f("tr"),b.c(),e=d(),_&&_.c(),r=d(),i=f("td"),o=p(m),u=d(),s=f("td"),h=p(y),g=d()},m(t,c){l(t,n,c),b.m(n,null),a(n,e),_&&_.m(n,null),a(n,r),a(n,i),a(i,o),a(n,u),a(n,s),a(s,h),a(n,g)},p(t,i){$===($=w(t))&&b?b.p(t,i):(b.d(1),b=$(t),b&&(b.c(),b.m(n,e))),"countryts"!==t[0]?_?_.p(t,i):(_=$o(t),_.c(),_.m(n,r)):_&&(_.d(1),_=null),2&i&&m!==(m=t[8].count+"")&&v(o,m),2&i&&y!==(y=Math.round(100*t[8].year_prop*100+Number.EPSILON)/100+"")&&v(h,y)},d(t){t&&c(n),b.d(),_&&_.d()}}}function _o(n){let e,r,i,o,u,h,p,g,y,v,w,$="total"!==n[0]&&po(n);function b(t,n){return"countryts"!==t[0]?mo:go}let _=b(n),x=_(n),M="countryts"!==n[0]&&yo(),E=n[1],S=[];for(let t=0;t<E.length;t+=1)S[t]=bo(ho(n,E,t));return{c(){e=f("div"),$&&$.c(),r=d(),i=f("table"),o=f("thead"),u=f("tr"),x.c(),h=d(),M&&M.c(),p=d(),g=f("th"),g.textContent="Count",y=d(),v=f("th"),v.textContent="Perc of all",w=d();for(let t=0;t<S.length;t+=1)S[t].c();m(i,"class","mytable pure-table svelte-1f99ybv")},m(t,n){l(t,e,n),$&&$.m(e,null),a(e,r),a(e,i),a(i,o),a(o,u),x.m(u,null),a(u,h),M&&M.m(u,null),a(u,p),a(u,g),a(u,y),a(u,v),a(i,w);for(let t=0;t<S.length;t+=1)S[t].m(i,null)},p(t,[n]){if("total"!==t[0]?$?$.p(t,n):($=po(t),$.c(),$.m(e,r)):$&&($.d(1),$=null),_!==(_=b(t))&&(x.d(1),x=_(t),x&&(x.c(),x.m(u,h))),"countryts"!==t[0]?M||(M=yo(),M.c(),M.m(u,p)):M&&(M.d(1),M=null),11&n){let e;for(E=t[1],e=0;e<E.length;e+=1){const r=ho(t,E,e);S[e]?S[e].p(r,n):(S[e]=bo(r),S[e].c(),S[e].m(i,null))}for(;e<S.length;e+=1)S[e].d(1);S.length=E.length}},i:t,o:t,d(t){t&&c(e),$&&$.d(),x.d(),M&&M.d(),s(S,t)}}}function xo(t,n,e){let r,i,o,a;u(t,Y,(t=>e(4,r=t))),u(t,J,(t=>e(5,i=t))),u(t,Q,(t=>e(6,o=t))),u(t,X,(t=>e(3,a=t)));let l,c,{level:s}=n;return t.$$set=t=>{"level"in t&&e(0,s=t.level)},t.$$.update=()=>{113&t.$$.dirty&&e(1,l=function(t,n,e,r){var i,o=n.wojewodztwo,u=n.year,a=n.country;if("wojewodztwo"==t){for(var l of e.features)l.properties.nazwa.toUpperCase()===o&&(i=l.properties.bywojewodztwo[u]);i=i.slice(0,15)}else if("total"==t)i=r[u];else if("countryts"==t){for(var l of e.features)if(l.properties.nazwa.toUpperCase()===o){i=[];for(let[t,n]of Object.entries(l.properties.bycountry))try{var c=n[a];c.year=t,i.unshift(c)}catch(t){}}}else i={};return i}(s,r,i,o)),16&t.$$.dirty&&e(2,c=r.wojewodztwo)},[s,l,c,a]}class Mo extends V{constructor(t){super(),F(this,t,xo,_o,o,{level:0})}}function Eo(t){let n,e,r,i,o,u,s,h,p,g,y,v,w,$,b,_,x,M,E,S,N,k,A,j,z,L,C,O,P,I,q,D,U,H,F,V,Z,G,W,Y,X,J,Q,tt="total"!==t[3].mode&&No(),nt="total"!==t[3].mode&&ko(),et="total"!==t[3].mode&&Ao(),rt="total"!==t[3].mode&&jo(),it="total"!==t[3].mode&&zo(),ot="total"!==t[3].mode&&Lo(),ut="total"!==t[3].mode&&Co(),at="total"!==t[3].mode&&Oo(),lt="total"!==t[3].mode&&Po();const ct=[Ro,Io],st=[];function ft(t,n){return"total"!==t[3].mode?0:1}j=ft(t),z=st[j]=ct[j](t);let ht="total"!==t[3].mode&&To(),pt="bywojewodztwo"===t[3].mode&&Ko(),dt="bycountry"===t[3].mode&&Bo(),gt="total"!==t[3].mode&&qo(),mt="total"!==t[3].mode&&Do(),yt="total"!==t[3].mode&&Uo(),vt="total"!==t[3].mode&&Ho(),wt="total"!==t[3].mode&&Fo();return{c(){n=f("div"),e=d(),r=f("div"),tt&&tt.c(),i=d(),o=f("div"),nt&&nt.c(),u=d(),s=f("div"),et&&et.c(),h=d(),p=f("div"),rt&&rt.c(),g=d(),y=f("div"),it&&it.c(),v=d(),w=f("div"),ot&&ot.c(),$=d(),b=f("div"),ut&&ut.c(),_=d(),x=f("div"),M=d(),E=f("div"),at&&at.c(),S=d(),N=f("div"),lt&&lt.c(),k=d(),A=f("div"),z.c(),L=d(),C=f("div"),ht&&ht.c(),O=d(),P=f("div"),pt&&pt.c(),I=d(),dt&&dt.c(),q=d(),D=f("div"),U=d(),H=f("div"),gt&&gt.c(),F=d(),V=f("div"),mt&&mt.c(),Z=d(),G=f("div"),yt&&yt.c(),W=d(),Y=f("div"),vt&&vt.c(),X=d(),J=f("div"),wt&&wt.c(),m(n,"class","pure-u-2-24"),m(r,"class","pure-u-2-24"),m(o,"class","pure-u-2-24"),m(s,"class","pure-u-2-24"),m(p,"class","pure-u-2-24"),m(y,"class","pure-u-2-24"),m(w,"class","pure-u-2-24"),m(b,"class","pure-u-2-24"),m(x,"class","pure-u-8-24"),m(E,"class","pure-u-2-24"),m(N,"class","pure-u-2-24"),m(A,"class","pure-u-10-24"),m(C,"class","pure-u-2-24"),m(P,"class","pure-u-8-24"),m(D,"class","pure-u-4-24"),m(H,"class","pure-u-2-24"),m(V,"class","pure-u-2-24"),m(G,"class","pure-u-2-24"),m(Y,"class","pure-u-2-24"),m(J,"class","pure-u-2-24")},m(t,c){l(t,n,c),l(t,e,c),l(t,r,c),tt&&tt.m(r,null),l(t,i,c),l(t,o,c),nt&&nt.m(o,null),l(t,u,c),l(t,s,c),et&&et.m(s,null),l(t,h,c),l(t,p,c),rt&&rt.m(p,null),l(t,g,c),l(t,y,c),it&&it.m(y,null),l(t,v,c),l(t,w,c),ot&&ot.m(w,null),l(t,$,c),l(t,b,c),ut&&ut.m(b,null),l(t,_,c),l(t,x,c),l(t,M,c),l(t,E,c),at&&at.m(E,null),l(t,S,c),l(t,N,c),lt&&lt.m(N,null),l(t,k,c),l(t,A,c),st[j].m(A,null),l(t,L,c),l(t,C,c),ht&&ht.m(C,null),l(t,O,c),l(t,P,c),pt&&pt.m(P,null),a(P,I),dt&&dt.m(P,null),l(t,q,c),l(t,D,c),l(t,U,c),l(t,H,c),gt&&gt.m(H,null),l(t,F,c),l(t,V,c),mt&&mt.m(V,null),l(t,Z,c),l(t,G,c),yt&&yt.m(G,null),l(t,W,c),l(t,Y,c),vt&&vt.m(Y,null),l(t,X,c),l(t,J,c),wt&&wt.m(J,null),Q=!0},p(t,n){"total"!==t[3].mode?tt?8&n&&K(tt,1):(tt=No(),tt.c(),K(tt,1),tt.m(r,null)):tt&&(R(),B(tt,1,1,(()=>{tt=null})),T()),"total"!==t[3].mode?nt?8&n&&K(nt,1):(nt=ko(),nt.c(),K(nt,1),nt.m(o,null)):nt&&(R(),B(nt,1,1,(()=>{nt=null})),T()),"total"!==t[3].mode?et?8&n&&K(et,1):(et=Ao(),et.c(),K(et,1),et.m(s,null)):et&&(R(),B(et,1,1,(()=>{et=null})),T()),"total"!==t[3].mode?rt?8&n&&K(rt,1):(rt=jo(),rt.c(),K(rt,1),rt.m(p,null)):rt&&(R(),B(rt,1,1,(()=>{rt=null})),T()),"total"!==t[3].mode?it?8&n&&K(it,1):(it=zo(),it.c(),K(it,1),it.m(y,null)):it&&(R(),B(it,1,1,(()=>{it=null})),T()),"total"!==t[3].mode?ot?8&n&&K(ot,1):(ot=Lo(),ot.c(),K(ot,1),ot.m(w,null)):ot&&(R(),B(ot,1,1,(()=>{ot=null})),T()),"total"!==t[3].mode?ut?8&n&&K(ut,1):(ut=Co(),ut.c(),K(ut,1),ut.m(b,null)):ut&&(R(),B(ut,1,1,(()=>{ut=null})),T()),"total"!==t[3].mode?at?8&n&&K(at,1):(at=Oo(),at.c(),K(at,1),at.m(E,null)):at&&(R(),B(at,1,1,(()=>{at=null})),T()),"total"!==t[3].mode?lt?8&n&&K(lt,1):(lt=Po(),lt.c(),K(lt,1),lt.m(N,null)):lt&&(R(),B(lt,1,1,(()=>{lt=null})),T());let e=j;j=ft(t),j!==e&&(R(),B(st[e],1,1,(()=>{st[e]=null})),T(),z=st[j],z||(z=st[j]=ct[j](t),z.c()),K(z,1),z.m(A,null)),"total"!==t[3].mode?ht?8&n&&K(ht,1):(ht=To(),ht.c(),K(ht,1),ht.m(C,null)):ht&&(R(),B(ht,1,1,(()=>{ht=null})),T()),"bywojewodztwo"===t[3].mode?pt?8&n&&K(pt,1):(pt=Ko(),pt.c(),K(pt,1),pt.m(P,I)):pt&&(R(),B(pt,1,1,(()=>{pt=null})),T()),"bycountry"===t[3].mode?dt?8&n&&K(dt,1):(dt=Bo(),dt.c(),K(dt,1),dt.m(P,null)):dt&&(R(),B(dt,1,1,(()=>{dt=null})),T()),"total"!==t[3].mode?gt?8&n&&K(gt,1):(gt=qo(),gt.c(),K(gt,1),gt.m(H,null)):gt&&(R(),B(gt,1,1,(()=>{gt=null})),T()),"total"!==t[3].mode?mt?8&n&&K(mt,1):(mt=Do(),mt.c(),K(mt,1),mt.m(V,null)):mt&&(R(),B(mt,1,1,(()=>{mt=null})),T()),"total"!==t[3].mode?yt?8&n&&K(yt,1):(yt=Uo(),yt.c(),K(yt,1),yt.m(G,null)):yt&&(R(),B(yt,1,1,(()=>{yt=null})),T()),"total"!==t[3].mode?vt?8&n&&K(vt,1):(vt=Ho(),vt.c(),K(vt,1),vt.m(Y,null)):vt&&(R(),B(vt,1,1,(()=>{vt=null})),T()),"total"!==t[3].mode?wt?8&n&&K(wt,1):(wt=Fo(),wt.c(),K(wt,1),wt.m(J,null)):wt&&(R(),B(wt,1,1,(()=>{wt=null})),T())},i(t){Q||(K(tt),K(nt),K(et),K(rt),K(it),K(ot),K(ut),K(at),K(lt),K(z),K(ht),K(pt),K(dt),K(gt),K(mt),K(yt),K(vt),K(wt),Q=!0)},o(t){B(tt),B(nt),B(et),B(rt),B(it),B(ot),B(ut),B(at),B(lt),B(z),B(ht),B(pt),B(dt),B(gt),B(mt),B(yt),B(vt),B(wt),Q=!1},d(t){t&&c(n),t&&c(e),t&&c(r),tt&&tt.d(),t&&c(i),t&&c(o),nt&&nt.d(),t&&c(u),t&&c(s),et&&et.d(),t&&c(h),t&&c(p),rt&&rt.d(),t&&c(g),t&&c(y),it&&it.d(),t&&c(v),t&&c(w),ot&&ot.d(),t&&c($),t&&c(b),ut&&ut.d(),t&&c(_),t&&c(x),t&&c(M),t&&c(E),at&&at.d(),t&&c(S),t&&c(N),lt&&lt.d(),t&&c(k),t&&c(A),st[j].d(),t&&c(L),t&&c(C),ht&&ht.d(),t&&c(O),t&&c(P),pt&&pt.d(),dt&&dt.d(),t&&c(q),t&&c(D),t&&c(U),t&&c(H),gt&&gt.d(),t&&c(F),t&&c(V),mt&&mt.d(),t&&c(Z),t&&c(G),yt&&yt.d(),t&&c(W),t&&c(Y),vt&&vt.d(),t&&c(X),t&&c(J),wt&&wt.d()}}}function So(n){let e;return{c(){e=f("div"),e.textContent="Loading data...",m(e,"class","pure-u-1-1")},m(t,n){l(t,e,n)},p:t,i:t,o:t,d(t){t&&c(e)}}}function No(t){let n,e;return n=new Qi({props:{country:"DK"}}),{c(){q(n.$$.fragment)},m(t,r){D(n,t,r),e=!0},i(t){e||(K(n.$$.fragment,t),e=!0)},o(t){B(n.$$.fragment,t),e=!1},d(t){U(n,t)}}}function ko(t){let n,e;return n=new Qi({props:{country:"NO"}}),{c(){q(n.$$.fragment)},m(t,r){D(n,t,r),e=!0},i(t){e||(K(n.$$.fragment,t),e=!0)},o(t){B(n.$$.fragment,t),e=!1},d(t){U(n,t)}}}function Ao(t){let n,e;return n=new Qi({props:{country:"SE"}}),{c(){q(n.$$.fragment)},m(t,r){D(n,t,r),e=!0},i(t){e||(K(n.$$.fragment,t),e=!0)},o(t){B(n.$$.fragment,t),e=!1},d(t){U(n,t)}}}function jo(t){let n,e;return n=new Qi({props:{country:"FI"}}),{c(){q(n.$$.fragment)},m(t,r){D(n,t,r),e=!0},i(t){e||(K(n.$$.fragment,t),e=!0)},o(t){B(n.$$.fragment,t),e=!1},d(t){U(n,t)}}}function zo(t){let n,e;return n=new Qi({props:{country:"LT"}}),{c(){q(n.$$.fragment)},m(t,r){D(n,t,r),e=!0},i(t){e||(K(n.$$.fragment,t),e=!0)},o(t){B(n.$$.fragment,t),e=!1},d(t){U(n,t)}}}function Lo(t){let n,e;return n=new Qi({props:{country:"LV"}}),{c(){q(n.$$.fragment)},m(t,r){D(n,t,r),e=!0},i(t){e||(K(n.$$.fragment,t),e=!0)},o(t){B(n.$$.fragment,t),e=!1},d(t){U(n,t)}}}function Co(t){let n,e;return n=new Qi({props:{country:"EE"}}),{c(){q(n.$$.fragment)},m(t,r){D(n,t,r),e=!0},i(t){e||(K(n.$$.fragment,t),e=!0)},o(t){B(n.$$.fragment,t),e=!1},d(t){U(n,t)}}}function Oo(t){let n,e,r,i,o,u,a,s,f,h,p,g;return n=new Qi({props:{country:"CA"}}),r=new Qi({props:{country:"US"}}),o=new Qi({props:{country:"GB"}}),a=new Qi({props:{country:"IE"}}),f=new Qi({props:{country:"ES"}}),p=new Qi({props:{country:"PT"}}),{c(){q(n.$$.fragment),e=d(),q(r.$$.fragment),i=d(),q(o.$$.fragment),u=d(),q(a.$$.fragment),s=d(),q(f.$$.fragment),h=d(),q(p.$$.fragment)},m(t,c){D(n,t,c),l(t,e,c),D(r,t,c),l(t,i,c),D(o,t,c),l(t,u,c),D(a,t,c),l(t,s,c),D(f,t,c),l(t,h,c),D(p,t,c),g=!0},i(t){g||(K(n.$$.fragment,t),K(r.$$.fragment,t),K(o.$$.fragment,t),K(a.$$.fragment,t),K(f.$$.fragment,t),K(p.$$.fragment,t),g=!0)},o(t){B(n.$$.fragment,t),B(r.$$.fragment,t),B(o.$$.fragment,t),B(a.$$.fragment,t),B(f.$$.fragment,t),B(p.$$.fragment,t),g=!1},d(t){U(n,t),t&&c(e),U(r,t),t&&c(i),U(o,t),t&&c(u),U(a,t),t&&c(s),U(f,t),t&&c(h),U(p,t)}}}function Po(t){let n,e,r,i,o,u,a,s,f,h,p,g,m,y;return n=new Qi({props:{country:"DE"}}),r=new Qi({props:{country:"FR"}}),o=new Qi({props:{country:"BE"}}),a=new Qi({props:{country:"NL"}}),f=new Qi({props:{country:"LU"}}),p=new Qi({props:{country:"CH"}}),m=new Qi({props:{country:"IT"}}),{c(){q(n.$$.fragment),e=d(),q(r.$$.fragment),i=d(),q(o.$$.fragment),u=d(),q(a.$$.fragment),s=d(),q(f.$$.fragment),h=d(),q(p.$$.fragment),g=d(),q(m.$$.fragment)},m(t,c){D(n,t,c),l(t,e,c),D(r,t,c),l(t,i,c),D(o,t,c),l(t,u,c),D(a,t,c),l(t,s,c),D(f,t,c),l(t,h,c),D(p,t,c),l(t,g,c),D(m,t,c),y=!0},i(t){y||(K(n.$$.fragment,t),K(r.$$.fragment,t),K(o.$$.fragment,t),K(a.$$.fragment,t),K(f.$$.fragment,t),K(p.$$.fragment,t),K(m.$$.fragment,t),y=!0)},o(t){B(n.$$.fragment,t),B(r.$$.fragment,t),B(o.$$.fragment,t),B(a.$$.fragment,t),B(f.$$.fragment,t),B(p.$$.fragment,t),B(m.$$.fragment,t),y=!1},d(t){U(n,t),t&&c(e),U(r,t),t&&c(i),U(o,t),t&&c(u),U(a,t),t&&c(s),U(f,t),t&&c(h),U(p,t),t&&c(g),U(m,t)}}}function Io(t){let n,e;return n=new Mo({props:{level:"total"}}),{c(){q(n.$$.fragment)},m(t,r){D(n,t,r),e=!0},i(t){e||(K(n.$$.fragment,t),e=!0)},o(t){B(n.$$.fragment,t),e=!1},d(t){U(n,t)}}}function Ro(t){let n,e;return n=new Yi({}),{c(){q(n.$$.fragment)},m(t,r){D(n,t,r),e=!0},i(t){e||(K(n.$$.fragment,t),e=!0)},o(t){B(n.$$.fragment,t),e=!1},d(t){U(n,t)}}}function To(t){let n,e,r,i,o,u,a,s,f,h,p,g,m,y;return n=new Qi({props:{country:"RU"}}),r=new Qi({props:{country:"BY"}}),o=new Qi({props:{country:"UA"}}),a=new Qi({props:{country:"GR"}}),f=new Qi({props:{country:"CY"}}),p=new Qi({props:{country:"MT"}}),m=new Qi({props:{country:"JP"}}),{c(){q(n.$$.fragment),e=d(),q(r.$$.fragment),i=d(),q(o.$$.fragment),u=d(),q(a.$$.fragment),s=d(),q(f.$$.fragment),h=d(),q(p.$$.fragment),g=d(),q(m.$$.fragment)},m(t,c){D(n,t,c),l(t,e,c),D(r,t,c),l(t,i,c),D(o,t,c),l(t,u,c),D(a,t,c),l(t,s,c),D(f,t,c),l(t,h,c),D(p,t,c),l(t,g,c),D(m,t,c),y=!0},i(t){y||(K(n.$$.fragment,t),K(r.$$.fragment,t),K(o.$$.fragment,t),K(a.$$.fragment,t),K(f.$$.fragment,t),K(p.$$.fragment,t),K(m.$$.fragment,t),y=!0)},o(t){B(n.$$.fragment,t),B(r.$$.fragment,t),B(o.$$.fragment,t),B(a.$$.fragment,t),B(f.$$.fragment,t),B(p.$$.fragment,t),B(m.$$.fragment,t),y=!1},d(t){U(n,t),t&&c(e),U(r,t),t&&c(i),U(o,t),t&&c(u),U(a,t),t&&c(s),U(f,t),t&&c(h),U(p,t),t&&c(g),U(m,t)}}}function Ko(t){let n,e;return n=new Mo({props:{level:"wojewodztwo"}}),{c(){q(n.$$.fragment)},m(t,r){D(n,t,r),e=!0},i(t){e||(K(n.$$.fragment,t),e=!0)},o(t){B(n.$$.fragment,t),e=!1},d(t){U(n,t)}}}function Bo(t){let n,e;return n=new Mo({props:{level:"countryts"}}),{c(){q(n.$$.fragment)},m(t,r){D(n,t,r),e=!0},i(t){e||(K(n.$$.fragment,t),e=!0)},o(t){B(n.$$.fragment,t),e=!1},d(t){U(n,t)}}}function qo(t){let n,e;return n=new Qi({props:{country:"SI"}}),{c(){q(n.$$.fragment)},m(t,r){D(n,t,r),e=!0},i(t){e||(K(n.$$.fragment,t),e=!0)},o(t){B(n.$$.fragment,t),e=!1},d(t){U(n,t)}}}function Do(t){let n,e;return n=new Qi({props:{country:"AT"}}),{c(){q(n.$$.fragment)},m(t,r){D(n,t,r),e=!0},i(t){e||(K(n.$$.fragment,t),e=!0)},o(t){B(n.$$.fragment,t),e=!1},d(t){U(n,t)}}}function Uo(t){let n,e;return n=new Qi({props:{country:"CZ"}}),{c(){q(n.$$.fragment)},m(t,r){D(n,t,r),e=!0},i(t){e||(K(n.$$.fragment,t),e=!0)},o(t){B(n.$$.fragment,t),e=!1},d(t){U(n,t)}}}function Ho(t){let n,e;return n=new Qi({props:{country:"SK"}}),{c(){q(n.$$.fragment)},m(t,r){D(n,t,r),e=!0},i(t){e||(K(n.$$.fragment,t),e=!0)},o(t){B(n.$$.fragment,t),e=!1},d(t){U(n,t)}}}function Fo(t){let n,e;return n=new Qi({props:{country:"HU"}}),{c(){q(n.$$.fragment)},m(t,r){D(n,t,r),e=!0},i(t){e||(K(n.$$.fragment,t),e=!0)},o(t){B(n.$$.fragment,t),e=!1},d(t){U(n,t)}}}function Vo(t){let n,e,r,i,o,u,s,h,p,g;i=new fo({});const y=[So,Eo],v=[];function w(t,n){return 7&n&&(s=!(0!==Object.keys(t[0]).length&&0!==Object.keys(t[1]).length&&0!==Object.keys(t[2]).length)),s?0:1}return h=w(t,-1),p=v[h]=y[h](t),{c(){n=f("main"),e=f("div"),r=f("div"),q(i.$$.fragment),o=d(),u=f("div"),p.c(),m(r,"class","pure-u-1-1"),m(e,"class","pure-g"),m(u,"class","pure-g"),m(n,"class","svelte-1cmphro")},m(t,c){l(t,n,c),a(n,e),a(e,r),D(i,r,null),a(n,o),a(n,u),v[h].m(u,null),g=!0},p(t,[n]){let e=h;h=w(t,n),h===e?v[h].p(t,n):(R(),B(v[e],1,1,(()=>{v[e]=null})),T(),p=v[h],p||(p=v[h]=y[h](t),p.c()),K(p,1),p.m(u,null))},i(t){g||(K(i.$$.fragment,t),K(p),g=!0)},o(t){B(i.$$.fragment,t),B(p),g=!1},d(t){t&&c(n),U(i),v[h].d()}}}function Zo(t,n,e){let r,i,o,a;return u(t,X,(t=>e(0,r=t))),u(t,J,(t=>e(1,i=t))),u(t,Q,(t=>e(2,o=t))),u(t,Y,(t=>e(3,a=t))),x((async()=>{const t=await fetch("data/country_codes.json");var n=await t.json();const e=await fetch("data/map_data.geojson");var r=await e.json();const i=await fetch("data/tourists_total.json");var o=await i.json();X.set(n),J.set(r),Q.set(o)})),[r,i,o,a]}return new class extends V{constructor(t){super(),F(this,t,Zo,Vo,o,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
