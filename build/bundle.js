var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function r(t){t.forEach(n)}function o(t){return"function"==typeof t}function i(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function u(n,e,r){n.$$.on_destroy.push(function(n,...e){if(null==n)return t;const r=n.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}(e,r))}function a(t,n){t.appendChild(n)}function l(t,n,e){t.insertBefore(n,e||null)}function c(t){t.parentNode.removeChild(t)}function s(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function f(t){return document.createElement(t)}function h(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function p(t){return document.createTextNode(t)}function d(){return p(" ")}function g(t,n,e,r){return t.addEventListener(n,e,r),()=>t.removeEventListener(n,e,r)}function m(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function v(t,n,e){t.setAttributeNS("http://www.w3.org/1999/xlink",n,e)}function y(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function w(t,n){for(let e=0;e<t.options.length;e+=1){const r=t.options[e];if(r.__value===n)return void(r.selected=!0)}}function $(t){const n=t.querySelector(":checked")||t.options[0];return n&&n.__value}let b;function _(t){b=t}function x(t){(function(){if(!b)throw new Error("Function called outside component initialization");return b})().$$.on_mount.push(t)}const M=[],E=[],S=[],N=[],k=Promise.resolve();let A=!1;function j(t){S.push(t)}let L=!1;const O=new Set;function C(){if(!L){L=!0;do{for(let t=0;t<M.length;t+=1){const n=M[t];_(n),z(n.$$)}for(_(null),M.length=0;E.length;)E.pop()();for(let t=0;t<S.length;t+=1){const n=S[t];O.has(n)||(O.add(n),n())}S.length=0}while(M.length);for(;N.length;)N.pop()();A=!1,L=!1,O.clear()}}function z(t){if(null!==t.fragment){t.update(),r(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(j)}}const P=new Set;let I;function R(){I={r:0,c:[],p:I}}function T(){I.r||r(I.c),I=I.p}function K(t,n){t&&t.i&&(P.delete(t),t.i(n))}function D(t,n,e,r){if(t&&t.o){if(P.has(t))return;P.add(t),I.c.push((()=>{P.delete(t),r&&(e&&t.d(1),r())})),t.o(n)}}function q(t){t&&t.c()}function H(t,e,i){const{fragment:u,on_mount:a,on_destroy:l,after_update:c}=t.$$;u&&u.m(e,i),j((()=>{const e=a.map(n).filter(o);l?l.push(...e):r(e),t.$$.on_mount=[]})),c.forEach(j)}function B(t,n){const e=t.$$;null!==e.fragment&&(r(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function U(t,n){-1===t.$$.dirty[0]&&(M.push(t),A||(A=!0,k.then(C)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function F(n,o,i,u,a,l,s=[-1]){const f=b;_(n);const h=o.props||{},p=n.$$={fragment:null,ctx:null,props:l,update:t,not_equal:a,bound:e(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:e(),dirty:s,skip_bound:!1};let d=!1;if(p.ctx=i?i(n,h,((t,e,...r)=>{const o=r.length?r[0]:e;return p.ctx&&a(p.ctx[t],p.ctx[t]=o)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](o),d&&U(n,t)),e})):[],p.update(),d=!0,r(p.before_update),p.fragment=!!u&&u(p.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);p.fragment&&p.fragment.l(t),t.forEach(c)}else p.fragment&&p.fragment.c();o.intro&&K(n.$$.fragment),H(n,o.target,o.anchor),C()}_(f)}class W{$destroy(){B(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const V=[];function Z(n,e=t){let r;const o=[];function u(t){if(i(n,t)&&(n=t,r)){const t=!V.length;for(let t=0;t<o.length;t+=1){const e=o[t];e[1](),V.push(e,n)}if(t){for(let t=0;t<V.length;t+=2)V[t][0](V[t+1]);V.length=0}}}return{set:u,update:function(t){u(t(n))},subscribe:function(i,a=t){const l=[i,a];return o.push(l),1===o.length&&(r=e(u)||t),i(n),()=>{const t=o.indexOf(l);-1!==t&&o.splice(t,1),0===o.length&&(r(),r=null)}}}}const G=Z({mode:"bywojewodztwo",year:2019,country:"CZ",wojewodztwo:"DOLNOŚLĄSKIE"}),Y={subscribe:G.subscribe,set_variable:(t,n)=>{G.update((e=>(e[t]=n,e)))}},X=Z({}),J=Z({}),Q=Z({});class tt{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let e=0;for(let r=0;r<this._n&&r<32;r++){const o=n[r],i=t+o,u=Math.abs(t)<Math.abs(o)?t-(i-o):o-(i-t);u&&(n[e++]=u),t=i}return n[e]=t,this._n=e+1,this}valueOf(){const t=this._partials;let n,e,r,o=this._n,i=0;if(o>0){for(i=t[--o];o>0&&(n=i,e=t[--o],i=n+e,r=e-(i-n),!r););o>0&&(r<0&&t[o-1]<0||r>0&&t[o-1]>0)&&(e=2*r,n=i+e,e==n-i&&(i=n))}return i}}var nt=Math.sqrt(50),et=Math.sqrt(10),rt=Math.sqrt(2);function ot(t,n,e){var r=(n-t)/Math.max(0,e),o=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,o);return o>=0?(i>=nt?10:i>=et?5:i>=rt?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(i>=nt?10:i>=et?5:i>=rt?2:1)}function it(t){return Array.from(function*(t){for(const n of t)yield*n}(t))}var ut=1e-6,at=Math.PI,lt=at/2,ct=at/4,st=2*at,ft=180/at,ht=at/180,pt=Math.abs,dt=Math.atan,gt=Math.atan2,mt=Math.cos,vt=Math.exp,yt=Math.log,wt=Math.sin,$t=Math.sign||function(t){return t>0?1:t<0?-1:0},bt=Math.sqrt,_t=Math.tan;function xt(t){return t>1?lt:t<-1?-lt:Math.asin(t)}function Mt(){}function Et(t,n){t&&Nt.hasOwnProperty(t.type)&&Nt[t.type](t,n)}var St={Feature:function(t,n){Et(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,o=e.length;++r<o;)Et(e[r].geometry,n)}},Nt={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,o=e.length;++r<o;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){kt(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,o=e.length;++r<o;)kt(e[r],n,0)},Polygon:function(t,n){At(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,o=e.length;++r<o;)At(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,o=e.length;++r<o;)Et(e[r],n)}};function kt(t,n,e){var r,o=-1,i=t.length-e;for(n.lineStart();++o<i;)r=t[o],n.point(r[0],r[1],r[2]);n.lineEnd()}function At(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)kt(t[e],n,1);n.polygonEnd()}function jt(t,n){t&&St.hasOwnProperty(t.type)?St[t.type](t,n):Et(t,n)}function Lt(t){return[gt(t[1],t[0]),xt(t[2])]}function Ot(t){var n=t[0],e=t[1],r=mt(e);return[r*mt(n),r*wt(n),wt(e)]}function Ct(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function zt(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Pt(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function It(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Rt(t){var n=bt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function Tt(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e}function Kt(t,n){return[pt(t)>at?t+Math.round(-t/st)*st:t,n]}function Dt(t,n,e){return(t%=st)?n||e?Tt(Ht(t),Bt(n,e)):Ht(t):n||e?Bt(n,e):Kt}function qt(t){return function(n,e){return[(n+=t)>at?n-st:n<-at?n+st:n,e]}}function Ht(t){var n=qt(t);return n.invert=qt(-t),n}function Bt(t,n){var e=mt(t),r=wt(t),o=mt(n),i=wt(n);function u(t,n){var u=mt(n),a=mt(t)*u,l=wt(t)*u,c=wt(n),s=c*e+a*r;return[gt(l*o-s*i,a*e-c*r),xt(s*o+l*i)]}return u.invert=function(t,n){var u=mt(n),a=mt(t)*u,l=wt(t)*u,c=wt(n),s=c*o-l*i;return[gt(l*o+c*i,a*e+s*r),xt(s*e-a*r)]},u}function Ut(t,n){(n=Ot(n))[0]-=t,Rt(n);var e,r=(e=-n[1])>1?0:e<-1?at:Math.acos(e);return((-n[2]<0?-r:r)+st-ut)%st}function Ft(){var t,n=[];return{point:function(n,e,r){t.push([n,e,r])},lineStart:function(){n.push(t=[])},lineEnd:Mt,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function Wt(t,n){return pt(t[0]-n[0])<ut&&pt(t[1]-n[1])<ut}function Vt(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Zt(t,n,e,r,o){var i,u,a=[],l=[];if(t.forEach((function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],u=t[n];if(Wt(r,u)){if(!r[2]&&!u[2]){for(o.lineStart(),i=0;i<n;++i)o.point((r=t[i])[0],r[1]);return void o.lineEnd()}u[0]+=2e-6}a.push(e=new Vt(r,t,null,!0)),l.push(e.o=new Vt(r,null,e,!1)),a.push(e=new Vt(u,t,null,!1)),l.push(e.o=new Vt(u,null,e,!0))}})),a.length){for(l.sort(n),Gt(a),Gt(l),i=0,u=l.length;i<u;++i)l[i].e=e=!e;for(var c,s,f=a[0];;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;c=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(i=0,u=c.length;i<u;++i)o.point((s=c[i])[0],s[1]);else r(h.x,h.n.x,1,o);h=h.n}else{if(p)for(c=h.p.z,i=c.length-1;i>=0;--i)o.point((s=c[i])[0],s[1]);else r(h.x,h.p.x,-1,o);h=h.p}c=(h=h.o).z,p=!p}while(!h.v);o.lineEnd()}}}function Gt(t){if(n=t.length){for(var n,e,r=0,o=t[0];++r<n;)o.n=e=t[r],e.p=o,o=e;o.n=e=t[0],e.p=o}}function Yt(t){return pt(t[0])<=at?t[0]:$t(t[0])*((pt(t[0])+at)%st-at)}function Xt(t,n,e,r){return function(o){var i,u,a,l=n(o),c=Ft(),s=n(c),f=!1,h={point:p,lineStart:g,lineEnd:m,polygonStart:function(){h.point=v,h.lineStart=y,h.lineEnd=w,u=[],i=[]},polygonEnd:function(){h.point=p,h.lineStart=g,h.lineEnd=m,u=it(u);var t=function(t,n){var e=Yt(n),r=n[1],o=wt(r),i=[wt(e),-mt(e),0],u=0,a=0,l=new tt;1===o?r=lt+ut:-1===o&&(r=-lt-ut);for(var c=0,s=t.length;c<s;++c)if(h=(f=t[c]).length)for(var f,h,p=f[h-1],d=Yt(p),g=p[1]/2+ct,m=wt(g),v=mt(g),y=0;y<h;++y,d=$,m=_,v=x,p=w){var w=f[y],$=Yt(w),b=w[1]/2+ct,_=wt(b),x=mt(b),M=$-d,E=M>=0?1:-1,S=E*M,N=S>at,k=m*_;if(l.add(gt(k*E*wt(S),v*x+k*mt(S))),u+=N?M+E*st:M,N^d>=e^$>=e){var A=zt(Ot(p),Ot(w));Rt(A);var j=zt(i,A);Rt(j);var L=(N^M>=0?-1:1)*xt(j[2]);(r>L||r===L&&(A[0]||A[1]))&&(a+=N^M>=0?1:-1)}}return(u<-ut||u<ut&&l<-1e-12)^1&a}(i,r);u.length?(f||(o.polygonStart(),f=!0),Zt(u,Qt,t,e,o)):t&&(f||(o.polygonStart(),f=!0),o.lineStart(),e(null,null,1,o),o.lineEnd()),f&&(o.polygonEnd(),f=!1),u=i=null},sphere:function(){o.polygonStart(),o.lineStart(),e(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function p(n,e){t(n,e)&&o.point(n,e)}function d(t,n){l.point(t,n)}function g(){h.point=d,l.lineStart()}function m(){h.point=p,l.lineEnd()}function v(t,n){a.push([t,n]),s.point(t,n)}function y(){s.lineStart(),a=[]}function w(){v(a[0][0],a[0][1]),s.lineEnd();var t,n,e,r,l=s.clean(),h=c.result(),p=h.length;if(a.pop(),i.push(a),a=null,p)if(1&l){if((n=(e=h[0]).length-1)>0){for(f||(o.polygonStart(),f=!0),o.lineStart(),t=0;t<n;++t)o.point((r=e[t])[0],r[1]);o.lineEnd()}}else p>1&&2&l&&h.push(h.pop().concat(h.shift())),u.push(h.filter(Jt))}return h}}function Jt(t){return t.length>1}function Qt(t,n){return((t=t.x)[0]<0?t[1]-lt-ut:lt-t[1])-((n=n.x)[0]<0?n[1]-lt-ut:lt-n[1])}Kt.invert=Kt;var tn=Xt((function(){return!0}),(function(t){var n,e=NaN,r=NaN,o=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(i,u){var a=i>0?at:-at,l=pt(i-e);pt(l-at)<ut?(t.point(e,r=(r+u)/2>0?lt:-lt),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(a,r),t.point(i,r),n=0):o!==a&&l>=at&&(pt(e-o)<ut&&(e-=o*ut),pt(i-a)<ut&&(i-=a*ut),r=function(t,n,e,r){var o,i,u=wt(t-e);return pt(u)>ut?dt((wt(n)*(i=mt(r))*wt(e)-wt(r)*(o=mt(n))*wt(t))/(o*i*u)):(n+r)/2}(e,r,i,u),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(a,r),n=0),t.point(e=i,r=u),o=a},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}}),(function(t,n,e,r){var o;if(null==t)o=e*lt,r.point(-at,o),r.point(0,o),r.point(at,o),r.point(at,0),r.point(at,-o),r.point(0,-o),r.point(-at,-o),r.point(-at,0),r.point(-at,o);else if(pt(t[0]-n[0])>ut){var i=t[0]<n[0]?at:-at;o=e*i/2,r.point(-i,o),r.point(0,o),r.point(i,o)}else r.point(n[0],n[1])}),[-at,-lt]);function nn(t){var n=mt(t),e=6*ht,r=n>0,o=pt(n)>ut;function i(t,e){return mt(t)*mt(e)>n}function u(t,e,r){var o=[1,0,0],i=zt(Ot(t),Ot(e)),u=Ct(i,i),a=i[0],l=u-a*a;if(!l)return!r&&t;var c=n*u/l,s=-n*a/l,f=zt(o,i),h=It(o,c);Pt(h,It(i,s));var p=f,d=Ct(h,p),g=Ct(p,p),m=d*d-g*(Ct(h,h)-1);if(!(m<0)){var v=bt(m),y=It(p,(-d-v)/g);if(Pt(y,h),y=Lt(y),!r)return y;var w,$=t[0],b=e[0],_=t[1],x=e[1];b<$&&(w=$,$=b,b=w);var M=b-$,E=pt(M-at)<ut;if(!E&&x<_&&(w=_,_=x,x=w),E||M<ut?E?_+x>0^y[1]<(pt(y[0]-$)<ut?_:x):_<=y[1]&&y[1]<=x:M>at^($<=y[0]&&y[0]<=b)){var S=It(p,(-d+v)/g);return Pt(S,h),[y,Lt(S)]}}}function a(n,e){var o=r?t:at-t,i=0;return n<-o?i|=1:n>o&&(i|=2),e<-o?i|=4:e>o&&(i|=8),i}return Xt(i,(function(t){var n,e,l,c,s;return{lineStart:function(){c=l=!1,s=1},point:function(f,h){var p,d=[f,h],g=i(f,h),m=r?g?0:a(f,h):g?a(f+(f<0?at:-at),h):0;if(!n&&(c=l=g)&&t.lineStart(),g!==l&&(!(p=u(n,d))||Wt(n,p)||Wt(d,p))&&(d[2]=1),g!==l)s=0,g?(t.lineStart(),p=u(d,n),t.point(p[0],p[1])):(p=u(n,d),t.point(p[0],p[1],2),t.lineEnd()),n=p;else if(o&&n&&r^g){var v;m&e||!(v=u(d,n,!0))||(s=0,r?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1],3)))}!g||n&&Wt(n,d)||t.point(d[0],d[1]),n=d,l=g,e=m},lineEnd:function(){l&&t.lineEnd(),n=null},clean:function(){return s|(c&&l)<<1}}}),(function(n,r,o,i){!function(t,n,e,r,o,i){if(e){var u=mt(n),a=wt(n),l=r*e;null==o?(o=n+r*st,i=n-l/2):(o=Ut(u,o),i=Ut(u,i),(r>0?o<i:o>i)&&(o+=r*st));for(var c,s=o;r>0?s>i:s<i;s-=l)c=Lt([u,-a*mt(s),-a*wt(s)]),t.point(c[0],c[1])}}(i,t,e,o,n,r)}),r?[0,-t]:[-at,t-at])}var en=1e9,rn=-en;function on(t,n,e,r){function o(o,i){return t<=o&&o<=e&&n<=i&&i<=r}function i(o,i,a,c){var s=0,f=0;if(null==o||(s=u(o,a))!==(f=u(i,a))||l(o,i)<0^a>0)do{c.point(0===s||3===s?t:e,s>1?r:n)}while((s=(s+a+4)%4)!==f);else c.point(i[0],i[1])}function u(r,o){return pt(r[0]-t)<ut?o>0?0:3:pt(r[0]-e)<ut?o>0?2:1:pt(r[1]-n)<ut?o>0?1:0:o>0?3:2}function a(t,n){return l(t.x,n.x)}function l(t,n){var e=u(t,1),r=u(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(u){var l,c,s,f,h,p,d,g,m,v,y,w=u,$=Ft(),b={point:_,lineStart:function(){b.point=x,c&&c.push(s=[]);v=!0,m=!1,d=g=NaN},lineEnd:function(){l&&(x(f,h),p&&m&&$.rejoin(),l.push($.result()));b.point=_,m&&w.lineEnd()},polygonStart:function(){w=$,l=[],c=[],y=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,o=c.length;e<o;++e)for(var i,u,a=c[e],l=1,s=a.length,f=a[0],h=f[0],p=f[1];l<s;++l)i=h,u=p,h=(f=a[l])[0],p=f[1],u<=r?p>r&&(h-i)*(r-u)>(p-u)*(t-i)&&++n:p<=r&&(h-i)*(r-u)<(p-u)*(t-i)&&--n;return n}(),e=y&&n,o=(l=it(l)).length;(e||o)&&(u.polygonStart(),e&&(u.lineStart(),i(null,null,1,u),u.lineEnd()),o&&Zt(l,a,n,i,u),u.polygonEnd());w=u,l=c=s=null}};function _(t,n){o(t,n)&&w.point(t,n)}function x(i,u){var a=o(i,u);if(c&&s.push([i,u]),v)f=i,h=u,p=a,v=!1,a&&(w.lineStart(),w.point(i,u));else if(a&&m)w.point(i,u);else{var l=[d=Math.max(rn,Math.min(en,d)),g=Math.max(rn,Math.min(en,g))],$=[i=Math.max(rn,Math.min(en,i)),u=Math.max(rn,Math.min(en,u))];!function(t,n,e,r,o,i){var u,a=t[0],l=t[1],c=0,s=1,f=n[0]-a,h=n[1]-l;if(u=e-a,f||!(u>0)){if(u/=f,f<0){if(u<c)return;u<s&&(s=u)}else if(f>0){if(u>s)return;u>c&&(c=u)}if(u=o-a,f||!(u<0)){if(u/=f,f<0){if(u>s)return;u>c&&(c=u)}else if(f>0){if(u<c)return;u<s&&(s=u)}if(u=r-l,h||!(u>0)){if(u/=h,h<0){if(u<c)return;u<s&&(s=u)}else if(h>0){if(u>s)return;u>c&&(c=u)}if(u=i-l,h||!(u<0)){if(u/=h,h<0){if(u>s)return;u>c&&(c=u)}else if(h>0){if(u<c)return;u<s&&(s=u)}return c>0&&(t[0]=a+c*f,t[1]=l+c*h),s<1&&(n[0]=a+s*f,n[1]=l+s*h),!0}}}}}(l,$,t,n,e,r)?a&&(w.lineStart(),w.point(i,u),y=!1):(m||(w.lineStart(),w.point(l[0],l[1])),w.point($[0],$[1]),a||w.lineEnd(),y=!1)}d=i,g=u,m=a}return b}}var un,an,ln,cn,sn=t=>t,fn=new tt,hn=new tt,pn={point:Mt,lineStart:Mt,lineEnd:Mt,polygonStart:function(){pn.lineStart=dn,pn.lineEnd=vn},polygonEnd:function(){pn.lineStart=pn.lineEnd=pn.point=Mt,fn.add(pt(hn)),hn=new tt},result:function(){var t=fn/2;return fn=new tt,t}};function dn(){pn.point=gn}function gn(t,n){pn.point=mn,un=ln=t,an=cn=n}function mn(t,n){hn.add(cn*t-ln*n),ln=t,cn=n}function vn(){mn(un,an)}var yn=1/0,wn=yn,$n=-yn,bn=$n,_n={point:function(t,n){t<yn&&(yn=t);t>$n&&($n=t);n<wn&&(wn=n);n>bn&&(bn=n)},lineStart:Mt,lineEnd:Mt,polygonStart:Mt,polygonEnd:Mt,result:function(){var t=[[yn,wn],[$n,bn]];return $n=bn=-(wn=yn=1/0),t}};var xn,Mn,En,Sn,Nn=0,kn=0,An=0,jn=0,Ln=0,On=0,Cn=0,zn=0,Pn=0,In={point:Rn,lineStart:Tn,lineEnd:qn,polygonStart:function(){In.lineStart=Hn,In.lineEnd=Bn},polygonEnd:function(){In.point=Rn,In.lineStart=Tn,In.lineEnd=qn},result:function(){var t=Pn?[Cn/Pn,zn/Pn]:On?[jn/On,Ln/On]:An?[Nn/An,kn/An]:[NaN,NaN];return Nn=kn=An=jn=Ln=On=Cn=zn=Pn=0,t}};function Rn(t,n){Nn+=t,kn+=n,++An}function Tn(){In.point=Kn}function Kn(t,n){In.point=Dn,Rn(En=t,Sn=n)}function Dn(t,n){var e=t-En,r=n-Sn,o=bt(e*e+r*r);jn+=o*(En+t)/2,Ln+=o*(Sn+n)/2,On+=o,Rn(En=t,Sn=n)}function qn(){In.point=Rn}function Hn(){In.point=Un}function Bn(){Fn(xn,Mn)}function Un(t,n){In.point=Fn,Rn(xn=En=t,Mn=Sn=n)}function Fn(t,n){var e=t-En,r=n-Sn,o=bt(e*e+r*r);jn+=o*(En+t)/2,Ln+=o*(Sn+n)/2,On+=o,Cn+=(o=Sn*t-En*n)*(En+t),zn+=o*(Sn+n),Pn+=3*o,Rn(En=t,Sn=n)}function Wn(t){this._context=t}Wn.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,st)}},result:Mt};var Vn,Zn,Gn,Yn,Xn,Jn=new tt,Qn={point:Mt,lineStart:function(){Qn.point=te},lineEnd:function(){Vn&&ne(Zn,Gn),Qn.point=Mt},polygonStart:function(){Vn=!0},polygonEnd:function(){Vn=null},result:function(){var t=+Jn;return Jn=new tt,t}};function te(t,n){Qn.point=ne,Zn=Yn=t,Gn=Xn=n}function ne(t,n){Yn-=t,Xn-=n,Jn.add(bt(Yn*Yn+Xn*Xn)),Yn=t,Xn=n}function ee(){this._string=[]}function re(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function oe(t){return function(n){var e=new ie;for(var r in t)e[r]=t[r];return e.stream=n,e}}function ie(){}function ue(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),jt(e,t.stream(_n)),n(_n.result()),null!=r&&t.clipExtent(r),t}function ae(t,n,e){return ue(t,(function(e){var r=n[1][0]-n[0][0],o=n[1][1]-n[0][1],i=Math.min(r/(e[1][0]-e[0][0]),o/(e[1][1]-e[0][1])),u=+n[0][0]+(r-i*(e[1][0]+e[0][0]))/2,a=+n[0][1]+(o-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([u,a])}),e)}ee.prototype={_radius:4.5,_circle:re(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=re(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},ie.prototype={constructor:ie,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var le=mt(30*ht);function ce(t,n){return+n?function(t,n){function e(r,o,i,u,a,l,c,s,f,h,p,d,g,m){var v=c-r,y=s-o,w=v*v+y*y;if(w>4*n&&g--){var $=u+h,b=a+p,_=l+d,x=bt($*$+b*b+_*_),M=xt(_/=x),E=pt(pt(_)-1)<ut||pt(i-f)<ut?(i+f)/2:gt(b,$),S=t(E,M),N=S[0],k=S[1],A=N-r,j=k-o,L=y*A-v*j;(L*L/w>n||pt((v*A+y*j)/w-.5)>.3||u*h+a*p+l*d<le)&&(e(r,o,i,u,a,l,N,k,E,$/=x,b/=x,_,g,m),m.point(N,k),e(N,k,E,$,b,_,c,s,f,h,p,d,g,m))}}return function(n){var r,o,i,u,a,l,c,s,f,h,p,d,g={point:m,lineStart:v,lineEnd:w,polygonStart:function(){n.polygonStart(),g.lineStart=$},polygonEnd:function(){n.polygonEnd(),g.lineStart=v}};function m(e,r){e=t(e,r),n.point(e[0],e[1])}function v(){s=NaN,g.point=y,n.lineStart()}function y(r,o){var i=Ot([r,o]),u=t(r,o);e(s,f,c,h,p,d,s=u[0],f=u[1],c=r,h=i[0],p=i[1],d=i[2],16,n),n.point(s,f)}function w(){g.point=m,n.lineEnd()}function $(){v(),g.point=b,g.lineEnd=_}function b(t,n){y(r=t,n),o=s,i=f,u=h,a=p,l=d,g.point=y}function _(){e(s,f,c,h,p,d,o,i,r,u,a,l,16,n),g.lineEnd=w,w()}return g}}(t,n):function(t){return oe({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)}var se=oe({point:function(t,n){this.stream.point(t*ht,n*ht)}});function fe(t,n,e,r,o,i){if(!i)return function(t,n,e,r,o){function i(i,u){return[n+t*(i*=r),e-t*(u*=o)]}return i.invert=function(i,u){return[(i-n)/t*r,(e-u)/t*o]},i}(t,n,e,r,o);var u=mt(i),a=wt(i),l=u*t,c=a*t,s=u/t,f=a/t,h=(a*e-u*n)/t,p=(a*n+u*e)/t;function d(t,i){return[l*(t*=r)-c*(i*=o)+n,e-c*t-l*i]}return d.invert=function(t,n){return[r*(s*t-f*n+h),o*(p-f*t-s*n)]},d}function he(t){return function(t){var n,e,r,o,i,u,a,l,c,s,f=150,h=480,p=250,d=0,g=0,m=0,v=0,y=0,w=0,$=1,b=1,_=null,x=tn,M=null,E=sn,S=.5;function N(t){return l(t[0]*ht,t[1]*ht)}function k(t){return(t=l.invert(t[0],t[1]))&&[t[0]*ft,t[1]*ft]}function A(){var t=fe(f,0,0,$,b,w).apply(null,n(d,g)),r=fe(f,h-t[0],p-t[1],$,b,w);return e=Dt(m,v,y),a=Tt(n,r),l=Tt(e,a),u=ce(a,S),j()}function j(){return c=s=null,N}return N.stream=function(t){return c&&s===t?c:c=se(function(t){return oe({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}(e)(x(u(E(s=t)))))},N.preclip=function(t){return arguments.length?(x=t,_=void 0,j()):x},N.postclip=function(t){return arguments.length?(E=t,M=r=o=i=null,j()):E},N.clipAngle=function(t){return arguments.length?(x=+t?nn(_=t*ht):(_=null,tn),j()):_*ft},N.clipExtent=function(t){return arguments.length?(E=null==t?(M=r=o=i=null,sn):on(M=+t[0][0],r=+t[0][1],o=+t[1][0],i=+t[1][1]),j()):null==M?null:[[M,r],[o,i]]},N.scale=function(t){return arguments.length?(f=+t,A()):f},N.translate=function(t){return arguments.length?(h=+t[0],p=+t[1],A()):[h,p]},N.center=function(t){return arguments.length?(d=t[0]%360*ht,g=t[1]%360*ht,A()):[d*ft,g*ft]},N.rotate=function(t){return arguments.length?(m=t[0]%360*ht,v=t[1]%360*ht,y=t.length>2?t[2]%360*ht:0,A()):[m*ft,v*ft,y*ft]},N.angle=function(t){return arguments.length?(w=t%360*ht,A()):w*ft},N.reflectX=function(t){return arguments.length?($=t?-1:1,A()):$<0},N.reflectY=function(t){return arguments.length?(b=t?-1:1,A()):b<0},N.precision=function(t){return arguments.length?(u=ce(a,S=t*t),j()):bt(S)},N.fitExtent=function(t,n){return ae(N,t,n)},N.fitSize=function(t,n){return function(t,n,e){return ae(t,[[0,0],n],e)}(N,t,n)},N.fitWidth=function(t,n){return function(t,n,e){return ue(t,(function(e){var r=+n,o=r/(e[1][0]-e[0][0]),i=(r-o*(e[1][0]+e[0][0]))/2,u=-o*e[0][1];t.scale(150*o).translate([i,u])}),e)}(N,t,n)},N.fitHeight=function(t,n){return function(t,n,e){return ue(t,(function(e){var r=+n,o=r/(e[1][1]-e[0][1]),i=-o*e[0][0],u=(r-o*(e[1][1]+e[0][1]))/2;t.scale(150*o).translate([i,u])}),e)}(N,t,n)},function(){return n=t.apply(this,arguments),N.invert=n.invert&&k,A()}}((function(){return t}))()}function pe(t,n){return[t,yt(_t((lt+n)/2))]}function de(){return function(t){var n,e,r,o=he(t),i=o.center,u=o.scale,a=o.translate,l=o.clipExtent,c=null;function s(){var i=at*u(),a=o(function(t){function n(n){return(n=t(n[0]*ht,n[1]*ht))[0]*=ft,n[1]*=ft,n}return t=Dt(t[0]*ht,t[1]*ht,t.length>2?t[2]*ht:0),n.invert=function(n){return(n=t.invert(n[0]*ht,n[1]*ht))[0]*=ft,n[1]*=ft,n},n}(o.rotate()).invert([0,0]));return l(null==c?[[a[0]-i,a[1]-i],[a[0]+i,a[1]+i]]:t===pe?[[Math.max(a[0]-i,c),n],[Math.min(a[0]+i,e),r]]:[[c,Math.max(a[1]-i,n)],[e,Math.min(a[1]+i,r)]])}return o.scale=function(t){return arguments.length?(u(t),s()):u()},o.translate=function(t){return arguments.length?(a(t),s()):a()},o.center=function(t){return arguments.length?(i(t),s()):i()},o.clipExtent=function(t){return arguments.length?(null==t?c=n=e=r=null:(c=+t[0][0],n=+t[0][1],e=+t[1][0],r=+t[1][1]),s()):null==c?null:[[c,n],[e,r]]},s()}(pe).scale(961/st)}pe.invert=function(t,n){return[t,2*dt(vt(n))-lt]};var ge="http://www.w3.org/1999/xhtml",me={svg:"http://www.w3.org/2000/svg",xhtml:ge,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ve(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),me.hasOwnProperty(n)?{space:me[n],local:t}:t}function ye(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===ge&&n.documentElement.namespaceURI===ge?n.createElement(t):n.createElementNS(e,t)}}function we(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function $e(t){var n=ve(t);return(n.local?we:ye)(n)}function be(){}function _e(t){return null==t?be:function(){return this.querySelector(t)}}function xe(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Me(){return[]}function Ee(t){return function(n){return n.matches(t)}}var Se=Array.prototype.find;function Ne(){return this.firstElementChild}var ke=Array.prototype.filter;function Ae(){return this.children}function je(t){return new Array(t.length)}function Le(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function Oe(t){return function(){return t}}function Ce(t,n,e,r,o,i){for(var u,a=0,l=n.length,c=i.length;a<c;++a)(u=n[a])?(u.__data__=i[a],r[a]=u):e[a]=new Le(t,i[a]);for(;a<l;++a)(u=n[a])&&(o[a]=u)}function ze(t,n,e,r,o,i,u){var a,l,c,s=new Map,f=n.length,h=i.length,p=new Array(f);for(a=0;a<f;++a)(l=n[a])&&(p[a]=c=u.call(l,l.__data__,a,n)+"",s.has(c)?o[a]=l:s.set(c,l));for(a=0;a<h;++a)c=u.call(t,i[a],a,i)+"",(l=s.get(c))?(r[a]=l,l.__data__=i[a],s.delete(c)):e[a]=new Le(t,i[a]);for(a=0;a<f;++a)(l=n[a])&&s.get(p[a])===l&&(o[a]=l)}function Pe(t){return t.__data__}function Ie(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Re(t){return function(){this.removeAttribute(t)}}function Te(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ke(t,n){return function(){this.setAttribute(t,n)}}function De(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function qe(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function He(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Be(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ue(t){return function(){this.style.removeProperty(t)}}function Fe(t,n,e){return function(){this.style.setProperty(t,n,e)}}function We(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function Ve(t,n){return t.style.getPropertyValue(n)||Be(t).getComputedStyle(t,null).getPropertyValue(n)}function Ze(t){return function(){delete this[t]}}function Ge(t,n){return function(){this[t]=n}}function Ye(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function Xe(t){return t.trim().split(/^|\s+/)}function Je(t){return t.classList||new Qe(t)}function Qe(t){this._node=t,this._names=Xe(t.getAttribute("class")||"")}function tr(t,n){for(var e=Je(t),r=-1,o=n.length;++r<o;)e.add(n[r])}function nr(t,n){for(var e=Je(t),r=-1,o=n.length;++r<o;)e.remove(n[r])}function er(t){return function(){tr(this,t)}}function rr(t){return function(){nr(this,t)}}function or(t,n){return function(){(n.apply(this,arguments)?tr:nr)(this,t)}}function ir(){this.textContent=""}function ur(t){return function(){this.textContent=t}}function ar(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function lr(){this.innerHTML=""}function cr(t){return function(){this.innerHTML=t}}function sr(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function fr(){this.nextSibling&&this.parentNode.appendChild(this)}function hr(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function pr(){return null}function dr(){var t=this.parentNode;t&&t.removeChild(this)}function gr(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function mr(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function vr(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function yr(t){return function(){var n=this.__on;if(n){for(var e,r=0,o=-1,i=n.length;r<i;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++o]=e:this.removeEventListener(e.type,e.listener,e.options);++o?n.length=o:delete this.__on}}}function wr(t,n,e){return function(){var r,o=this.__on,i=function(t){return function(n){t.call(this,n,this.__data__)}}(n);if(o)for(var u=0,a=o.length;u<a;++u)if((r=o[u]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=e),void(r.value=n);this.addEventListener(t.type,i,e),r={type:t.type,name:t.name,value:n,listener:i,options:e},o?o.push(r):this.__on=[r]}}function $r(t,n,e){var r=Be(t),o=r.CustomEvent;"function"==typeof o?o=new o(n,e):(o=r.document.createEvent("Event"),e?(o.initEvent(n,e.bubbles,e.cancelable),o.detail=e.detail):o.initEvent(n,!1,!1)),t.dispatchEvent(o)}function br(t,n){return function(){return $r(this,t,n)}}function _r(t,n){return function(){return $r(this,t,n.apply(this,arguments))}}Le.prototype={constructor:Le,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},Qe.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var xr=[null];function Mr(t,n){this._groups=t,this._parents=n}function Er(t){return"string"==typeof t?new Mr([[document.querySelector(t)]],[document.documentElement]):new Mr([[t]],xr)}function Sr(t,n){switch(arguments.length){case 0:break;case 1:"function"==typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"==typeof n?this.interpolator(n):this.range(n)}return this}function Nr(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function kr(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Ar(){}Mr.prototype=function(){return new Mr([[document.documentElement]],xr)}.prototype={constructor:Mr,select:function(t){"function"!=typeof t&&(t=_e(t));for(var n=this._groups,e=n.length,r=new Array(e),o=0;o<e;++o)for(var i,u,a=n[o],l=a.length,c=r[o]=new Array(l),s=0;s<l;++s)(i=a[s])&&(u=t.call(i,i.__data__,s,a))&&("__data__"in i&&(u.__data__=i.__data__),c[s]=u);return new Mr(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);return null==n?[]:xe(n)}}(t):function(t){return null==t?Me:function(){return this.querySelectorAll(t)}}(t);for(var n=this._groups,e=n.length,r=[],o=[],i=0;i<e;++i)for(var u,a=n[i],l=a.length,c=0;c<l;++c)(u=a[c])&&(r.push(t.call(u,u.__data__,c,a)),o.push(u));return new Mr(r,o)},selectChild:function(t){return this.select(null==t?Ne:function(t){return function(){return Se.call(this.children,t)}}("function"==typeof t?t:Ee(t)))},selectChildren:function(t){return this.selectAll(null==t?Ae:function(t){return function(){return ke.call(this.children,t)}}("function"==typeof t?t:Ee(t)))},filter:function(t){"function"!=typeof t&&(t=function(t){return function(){return this.matches(t)}}(t));for(var n=this._groups,e=n.length,r=new Array(e),o=0;o<e;++o)for(var i,u=n[o],a=u.length,l=r[o]=[],c=0;c<a;++c)(i=u[c])&&t.call(i,i.__data__,c,u)&&l.push(i);return new Mr(r,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,Pe);var e=n?ze:Ce,r=this._parents,o=this._groups;"function"!=typeof t&&(t=Oe(t));for(var i=o.length,u=new Array(i),a=new Array(i),l=new Array(i),c=0;c<i;++c){var s=r[c],f=o[c],h=f.length,p=xe(t.call(s,s&&s.__data__,c,r)),d=p.length,g=a[c]=new Array(d),m=u[c]=new Array(d),v=l[c]=new Array(h);e(s,f,g,m,v,p,n);for(var y,w,$=0,b=0;$<d;++$)if(y=g[$]){for($>=b&&(b=$+1);!(w=m[b])&&++b<d;);y._next=w||null}}return(u=new Mr(u,r))._enter=a,u._exit=l,u},enter:function(){return new Mr(this._enter||this._groups.map(je),this._parents)},exit:function(){return new Mr(this._exit||this._groups.map(je),this._parents)},join:function(t,n,e){var r=this.enter(),o=this,i=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(o=n(o)),null==e?i.remove():e(i),r&&o?r.merge(o).order():o},merge:function(t){if(!(t instanceof Mr))throw new Error("invalid merge");for(var n=this._groups,e=t._groups,r=n.length,o=e.length,i=Math.min(r,o),u=new Array(r),a=0;a<i;++a)for(var l,c=n[a],s=e[a],f=c.length,h=u[a]=new Array(f),p=0;p<f;++p)(l=c[p]||s[p])&&(h[p]=l);for(;a<r;++a)u[a]=n[a];return new Mr(u,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,o=t[n],i=o.length-1,u=o[i];--i>=0;)(r=o[i])&&(u&&4^r.compareDocumentPosition(u)&&u.parentNode.insertBefore(r,u),u=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=Ie);for(var e=this._groups,r=e.length,o=new Array(r),i=0;i<r;++i){for(var u,a=e[i],l=a.length,c=o[i]=new Array(l),s=0;s<l;++s)(u=a[s])&&(c[s]=u);c.sort(n)}return new Mr(o,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],o=0,i=r.length;o<i;++o){var u=r[o];if(u)return u}return null},size:function(){let t=0;for(const n of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var o,i=n[e],u=0,a=i.length;u<a;++u)(o=i[u])&&t.call(o,o.__data__,u,i);return this},attr:function(t,n){var e=ve(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?Te:Re:"function"==typeof n?e.local?He:qe:e.local?De:Ke)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?Ue:"function"==typeof n?We:Fe)(t,n,null==e?"":e)):Ve(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?Ze:"function"==typeof n?Ye:Ge)(t,n)):this.node()[t]},classed:function(t,n){var e=Xe(t+"");if(arguments.length<2){for(var r=Je(this.node()),o=-1,i=e.length;++o<i;)if(!r.contains(e[o]))return!1;return!0}return this.each(("function"==typeof n?or:n?er:rr)(e,n))},text:function(t){return arguments.length?this.each(null==t?ir:("function"==typeof t?ar:ur)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?lr:("function"==typeof t?sr:cr)(t)):this.node().innerHTML},raise:function(){return this.each(fr)},lower:function(){return this.each(hr)},append:function(t){var n="function"==typeof t?t:$e(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:$e(t),r=null==n?pr:"function"==typeof n?n:_e(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(dr)},clone:function(t){return this.select(t?mr:gr)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,o,i=vr(t+""),u=i.length;if(!(arguments.length<2)){for(a=n?wr:yr,r=0;r<u;++r)this.each(a(i[r],n,e));return this}var a=this.node().__on;if(a)for(var l,c=0,s=a.length;c<s;++c)for(r=0,l=a[c];r<u;++r)if((o=i[r]).type===l.type&&o.name===l.name)return l.value},dispatch:function(t,n){return this.each(("function"==typeof n?_r:br)(t,n))},[Symbol.iterator]:function*(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r,o=t[n],i=0,u=o.length;i<u;++i)(r=o[i])&&(yield r)}};var jr=.7,Lr=1/jr,Or="\\s*([+-]?\\d+)\\s*",Cr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",zr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pr=/^#([0-9a-f]{3,8})$/,Ir=new RegExp("^rgb\\("+[Or,Or,Or]+"\\)$"),Rr=new RegExp("^rgb\\("+[zr,zr,zr]+"\\)$"),Tr=new RegExp("^rgba\\("+[Or,Or,Or,Cr]+"\\)$"),Kr=new RegExp("^rgba\\("+[zr,zr,zr,Cr]+"\\)$"),Dr=new RegExp("^hsl\\("+[Cr,zr,zr]+"\\)$"),qr=new RegExp("^hsla\\("+[Cr,zr,zr,Cr]+"\\)$"),Hr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Br(){return this.rgb().formatHex()}function Ur(){return this.rgb().formatRgb()}function Fr(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Pr.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?Wr(n):3===e?new Yr(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?Vr(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?Vr(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=Ir.exec(t))?new Yr(n[1],n[2],n[3],1):(n=Rr.exec(t))?new Yr(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Tr.exec(t))?Vr(n[1],n[2],n[3],n[4]):(n=Kr.exec(t))?Vr(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Dr.exec(t))?to(n[1],n[2]/100,n[3]/100,1):(n=qr.exec(t))?to(n[1],n[2]/100,n[3]/100,n[4]):Hr.hasOwnProperty(t)?Wr(Hr[t]):"transparent"===t?new Yr(NaN,NaN,NaN,0):null}function Wr(t){return new Yr(t>>16&255,t>>8&255,255&t,1)}function Vr(t,n,e,r){return r<=0&&(t=n=e=NaN),new Yr(t,n,e,r)}function Zr(t){return t instanceof Ar||(t=Fr(t)),t?new Yr((t=t.rgb()).r,t.g,t.b,t.opacity):new Yr}function Gr(t,n,e,r){return 1===arguments.length?Zr(t):new Yr(t,n,e,null==r?1:r)}function Yr(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Xr(){return"#"+Qr(this.r)+Qr(this.g)+Qr(this.b)}function Jr(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Qr(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function to(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new ro(t,n,e,r)}function no(t){if(t instanceof ro)return new ro(t.h,t.s,t.l,t.opacity);if(t instanceof Ar||(t=Fr(t)),!t)return new ro;if(t instanceof ro)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,o=Math.min(n,e,r),i=Math.max(n,e,r),u=NaN,a=i-o,l=(i+o)/2;return a?(u=n===i?(e-r)/a+6*(e<r):e===i?(r-n)/a+2:(n-e)/a+4,a/=l<.5?i+o:2-i-o,u*=60):a=l>0&&l<1?0:u,new ro(u,a,l,t.opacity)}function eo(t,n,e,r){return 1===arguments.length?no(t):new ro(t,n,e,null==r?1:r)}function ro(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function oo(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}Nr(Ar,Fr,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Br,formatHex:Br,formatHsl:function(){return no(this).formatHsl()},formatRgb:Ur,toString:Ur}),Nr(Yr,Gr,kr(Ar,{brighter:function(t){return t=null==t?Lr:Math.pow(Lr,t),new Yr(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?jr:Math.pow(jr,t),new Yr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Xr,formatHex:Xr,formatRgb:Jr,toString:Jr})),Nr(ro,eo,kr(Ar,{brighter:function(t){return t=null==t?Lr:Math.pow(Lr,t),new ro(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?jr:Math.pow(jr,t),new ro(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,o=2*e-r;return new Yr(oo(t>=240?t-240:t+120,o,r),oo(t,o,r),oo(t<120?t+240:t-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var io=t=>()=>t;function uo(t,n){return function(e){return t+e*n}}function ao(t){return 1==(t=+t)?lo:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):io(isNaN(n)?e:n)}}function lo(t,n){var e=n-t;return e?uo(t,e):io(isNaN(t)?n:t)}var co=function t(n){var e=ao(n);function r(t,n){var r=e((t=Gr(t)).r,(n=Gr(n)).r),o=e(t.g,n.g),i=e(t.b,n.b),u=lo(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=o(n),t.b=i(n),t.opacity=u(n),t+""}}return r.gamma=t,r}(1);function so(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,o=n.slice();return function(i){for(e=0;e<r;++e)o[e]=t[e]*(1-i)+n[e]*i;return o}}function fo(t,n){var e,r=n?n.length:0,o=t?Math.min(r,t.length):0,i=new Array(o),u=new Array(r);for(e=0;e<o;++e)i[e]=wo(t[e],n[e]);for(;e<r;++e)u[e]=n[e];return function(t){for(e=0;e<o;++e)u[e]=i[e](t);return u}}function ho(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function po(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function go(t,n){var e,r={},o={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=wo(t[e],n[e]):o[e]=n[e];return function(t){for(e in r)o[e]=r[e](t);return o}}var mo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vo=new RegExp(mo.source,"g");function yo(t,n){var e,r,o,i=mo.lastIndex=vo.lastIndex=0,u=-1,a=[],l=[];for(t+="",n+="";(e=mo.exec(t))&&(r=vo.exec(n));)(o=r.index)>i&&(o=n.slice(i,o),a[u]?a[u]+=o:a[++u]=o),(e=e[0])===(r=r[0])?a[u]?a[u]+=r:a[++u]=r:(a[++u]=null,l.push({i:u,x:po(e,r)})),i=vo.lastIndex;return i<n.length&&(o=n.slice(i),a[u]?a[u]+=o:a[++u]=o),a.length<2?l[0]?function(t){return function(n){return t(n)+""}}(l[0].x):function(t){return function(){return t}}(n):(n=l.length,function(t){for(var e,r=0;r<n;++r)a[(e=l[r]).i]=e.x(t);return a.join("")})}function wo(t,n){var e,r,o=typeof n;return null==n||"boolean"===o?io(n):("number"===o?po:"string"===o?(e=Fr(n))?(n=e,co):yo:n instanceof Fr?co:n instanceof Date?ho:(r=n,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(n)?fo:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?go:po:so))(t,n)}function $o(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var bo=function(t){return function(n,e){var r=t((n=eo(n)).h,(e=eo(e)).h),o=lo(n.s,e.s),i=lo(n.l,e.l),u=lo(n.opacity,e.opacity);return function(t){return n.h=r(t),n.s=o(t),n.l=i(t),n.opacity=u(t),n+""}}}((function(t,n){var e=n-t;return e?uo(t,e>180||e<-180?e-360*Math.round(e/360):e):io(isNaN(t)?n:t)}));function _o(t){return t}function xo(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function Mo(t){return(t=xo(Math.abs(t)))?t[1]:NaN}var Eo,So=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function No(t){if(!(n=So.exec(t)))throw new Error("invalid format: "+t);var n;return new ko({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function ko(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Ao(t,n){var e=xo(t,n);if(!e)return t+"";var r=e[0],o=e[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}No.prototype=ko.prototype,ko.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var jo={"%":(t,n)=>(100*t).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>Ao(100*t,n),r:Ao,s:function(t,n){var e=xo(t,n);if(!e)return t+"";var r=e[0],o=e[1],i=o-(Eo=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,u=r.length;return i===u?r:i>u?r+new Array(i-u+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+xo(t,Math.max(0,n+i-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Lo(t){return t}var Oo,Co,zo,Po=Array.prototype.map,Io=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ro(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?Lo:(n=Po.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var o=t.length,i=[],u=0,a=n[0],l=0;o>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),i.push(t.substring(o-=a,o+a)),!((l+=a+1)>r));)a=n[u=(u+1)%n.length];return i.reverse().join(e)}),o=void 0===t.currency?"":t.currency[0]+"",i=void 0===t.currency?"":t.currency[1]+"",u=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?Lo:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(Po.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"−":t.minus+"",s=void 0===t.nan?"NaN":t.nan+"";function f(t){var n=(t=No(t)).fill,e=t.align,f=t.sign,h=t.symbol,p=t.zero,d=t.width,g=t.comma,m=t.precision,v=t.trim,y=t.type;"n"===y?(g=!0,y="g"):jo[y]||(void 0===m&&(m=12),v=!0,y="g"),(p||"0"===n&&"="===e)&&(p=!0,n="0",e="=");var w="$"===h?o:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",$="$"===h?i:/[%p]/.test(y)?l:"",b=jo[y],_=/[defgprs%]/.test(y);function x(t){var o,i,l,h=w,x=$;if("c"===y)x=b(t)+x,t="";else{var M=(t=+t)<0||1/t<0;if(t=isNaN(t)?s:b(Math.abs(t),m),v&&(t=function(t){t:for(var n,e=t.length,r=1,o=-1;r<e;++r)switch(t[r]){case".":o=n=r;break;case"0":0===o&&(o=r),n=r;break;default:if(!+t[r])break t;o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(n+1):t}(t)),M&&0==+t&&"+"!==f&&(M=!1),h=(M?"("===f?f:c:"-"===f||"("===f?"":f)+h,x=("s"===y?Io[8+Eo/3]:"")+x+(M&&"("===f?")":""),_)for(o=-1,i=t.length;++o<i;)if(48>(l=t.charCodeAt(o))||l>57){x=(46===l?u+t.slice(o+1):t.slice(o))+x,t=t.slice(0,o);break}}g&&!p&&(t=r(t,1/0));var E=h.length+t.length+x.length,S=E<d?new Array(d-E+1).join(n):"";switch(g&&p&&(t=r(S+t,S.length?d-x.length:1/0),S=""),e){case"<":t=h+t+x+S;break;case"=":t=h+S+t+x;break;case"^":t=S.slice(0,E=S.length>>1)+h+t+x+S.slice(E);break;default:t=S+h+t+x}return a(t)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),x.toString=function(){return t+""},x}return{format:f,formatPrefix:function(t,n){var e=f(((t=No(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Mo(n)/3))),o=Math.pow(10,-r),i=Io[8+r/3];return function(t){return e(o*t)+i}}}}function To(t,n,e,r){var o,i=function(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/o;return i>=nt?o*=10:i>=et?o*=5:i>=rt&&(o*=2),n<t?-o:o}(t,n,e);switch((r=No(null==r?",f":r)).type){case"s":var u=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(o=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Mo(n)/3)))-Mo(Math.abs(t)))}(i,u))||(r.precision=o),zo(r,u);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Mo(n)-Mo(t))+1}(i,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=function(t){return Math.max(0,-Mo(Math.abs(t)))}(i))||(r.precision=o-2*("%"===r.type))}return Co(r)}function Ko(t){var n=t.domain;return t.ticks=function(t){var e=n();return function(t,n,e){var r,o,i,u,a=-1;if(e=+e,(t=+t)==(n=+n)&&e>0)return[t];if((r=n<t)&&(o=t,t=n,n=o),0===(u=ot(t,n,e))||!isFinite(u))return[];if(u>0)for(t=Math.ceil(t/u),n=Math.floor(n/u),i=new Array(o=Math.ceil(n-t+1));++a<o;)i[a]=(t+a)*u;else for(u=-u,t=Math.ceil(t*u),n=Math.floor(n*u),i=new Array(o=Math.ceil(n-t+1));++a<o;)i[a]=(t+a)/u;return r&&i.reverse(),i}(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return To(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,o,i=n(),u=0,a=i.length-1,l=i[u],c=i[a],s=10;for(c<l&&(o=l,l=c,c=o,o=u,u=a,a=o);s-- >0;){if((o=ot(l,c,e))===r)return i[u]=l,i[a]=c,n(i);if(o>0)l=Math.floor(l/o)*o,c=Math.ceil(c/o)*o;else{if(!(o<0))break;l=Math.ceil(l*o)/o,c=Math.floor(c*o)/o}r=o}return t},t}function Do(){var t,n,e,r,o,i=0,u=1,a=_o,l=!1;function c(n){return isNaN(n=+n)?o:a(0===e?.5:(n=(r(n)-t)*e,l?Math.max(0,Math.min(1,n)):n))}function s(t){return function(n){var e,r;return arguments.length?([e,r]=n,a=t(e,r),c):[a(0),a(1)]}}return c.domain=function(o){return arguments.length?([i,u]=o,t=r(i=+i),n=r(u=+u),e=t===n?0:1/(n-t),c):[i,u]},c.clamp=function(t){return arguments.length?(l=!!t,c):l},c.interpolator=function(t){return arguments.length?(a=t,c):a},c.range=s(wo),c.rangeRound=s($o),c.unknown=function(t){return arguments.length?(o=t,c):o},function(o){return r=o,t=o(i),n=o(u),e=t===n?0:1/(n-t),c}}function qo(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Ho(){var t=Ko(Do()(_o));return t.copy=function(){return qo(t,Ho())},Sr.apply(t,arguments)}function Bo(t,n,e){const r=t.slice();return r[13]=n[e],r}function Uo(t){let n,e,r,o;return{c(){n=h("pattern"),e=h("image"),v(e,"xlink:href",r="build/flag-icon-css/flags/1x1/"+t[13].toLowerCase()+".svg"),m(e,"preserveAspectRatio","none"),m(e,"width","1"),m(e,"height","1"),m(n,"id",o=t[13]),m(n,"height","100%"),m(n,"width","100%"),m(n,"patternContentUnits","objectBoundingBox"),m(n,"class","svelte-7ol3nd")},m(t,r){l(t,n,r),a(n,e)},p(t,i){1&i&&r!==(r="build/flag-icon-css/flags/1x1/"+t[13].toLowerCase()+".svg")&&v(e,"xlink:href",r),1&i&&o!==(o=t[13])&&m(n,"id",o)},d(t){t&&c(n)}}}function Fo(n){let e,r,o,i,u=n[0],p=[];for(let t=0;t<u.length;t+=1)p[t]=Uo(Bo(n,u,t));return{c(){e=f("div"),r=f("div"),o=h("svg"),i=h("defs");for(let t=0;t<p.length;t+=1)p[t].c();m(o,"id","map"),m(o,"width",n[1]),m(o,"height",n[2]),m(o,"class","svelte-7ol3nd")},m(t,n){l(t,e,n),a(e,r),a(r,o),a(o,i);for(let t=0;t<p.length;t+=1)p[t].m(i,null)},p(t,[n]){if(1&n){let e;for(u=t[0],e=0;e<u.length;e+=1){const r=Bo(t,u,e);p[e]?p[e].p(r,n):(p[e]=Uo(r),p[e].c(),p[e].m(i,null))}for(;e<p.length;e+=1)p[e].d(1);p.length=u.length}},i:t,o:t,d(t){t&&c(e),s(p,t)}}}Oo=Ro({thousands:",",grouping:[3],currency:["$",""]}),Co=Oo.format,zo=Oo.formatPrefix;const Wo="#e9ecef",Vo="#c4ccd4";function Zo(t,n,e){let r,o,i;u(t,Y,(t=>e(4,r=t))),u(t,X,(t=>e(5,o=t))),u(t,J,(t=>e(6,i=t)));const a=Math.max(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,1200),l=Math.round(8/12*7/12*a),c=l,s=Ho(bo("#d6f5d6","#051505"));function f(t){const n=de().fitSize([l,c],t),e=function(t,n){var e,r,o=4.5;function i(t){return t&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),jt(t,e(r))),r.result()}return i.area=function(t){return jt(t,e(pn)),pn.result()},i.measure=function(t){return jt(t,e(Qn)),Qn.result()},i.bounds=function(t){return jt(t,e(_n)),_n.result()},i.centroid=function(t){return jt(t,e(In)),In.result()},i.projection=function(n){return arguments.length?(e=null==n?(t=null,sn):(t=n).stream,i):t},i.context=function(t){return arguments.length?(r=null==t?(n=null,new ee):new Wn(n=t),"function"!=typeof o&&r.pointRadius(o),i):n},i.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(r.pointRadius(+t),+t),i):o},i.projection(t).context(n)}().projection(n);var r=Er("#map");r.selectAll("path").data(t.features).enter().append("path").attr("d",e).attr("class","country-border"),r.selectAll("text").data(t.features).enter().append("text").text("").attr("class","map-label").attr("transform",(function(t){return"translate("+e.centroid(t)+")"})),r.selectAll("circle").data(t.features).enter().append("circle").attr("r",20).attr("opacity","0%").attr("transform",(function(t){return"translate("+e.centroid(t)+")"}))}function h(t){var n=t.mode,e=t.year,r=t.country,o=t.wojewodztwo;return"bycountry"===n?function(t,n){var e=Er("#map");e.selectAll("path").style("fill",(function(e){var r;try{r=e.properties.bycountry[n][t].year_prop}catch(t){}return r?s(r):Wo})),e.selectAll("text").text((function(e){var r;try{var o=e.properties.bycountry[n][t].year_prop;r=Math.round(100*o*100+Number.EPSILON)/100,r+="%"}catch(t){console.log(t),r="NA"}return r})),e.selectAll("circle").attr("opacity","0%")}(r,e):"bywojewodztwo"===n&&function(t,n){var e=Er("#map");e.selectAll("path").style("fill",(function(t){return t.properties.nazwa.toUpperCase()==n?Vo:Wo})),e.selectAll("text").text(""),e.selectAll("circle").attr("opacity","100%").attr("fill",(function(n){return`url(#${n.properties.bywojewodztwo[t].map((t=>t.country)).filter((t=>"OTHER"!=t))[0].toString()})`}))}(e,o),!0}let p,d;return x((async()=>{f(i),h(r)})),t.$$.update=()=>{16&t.$$.dirty&&(p=h(r)),32&t.$$.dirty&&e(0,d=Object.keys(o))},[d,l,c]}class Go extends W{constructor(t){super(),F(this,t,Zo,Fo,i,{})}}function Yo(n){let e,r,i,u,s;return{c(){e=f("div"),r=f("div"),m(r,"class",i="myflag "+n[1]+" flag-icon-background flag-icon-"+n[0].toLowerCase()+" svelte-113v5af")},m(t,i){l(t,e,i),a(e,r),u||(s=g(r,"click",(function(){o(Y.set_variable("country",n[0]))&&Y.set_variable("country",n[0]).apply(this,arguments)})),u=!0)},p(t,[e]){n=t,3&e&&i!==(i="myflag "+n[1]+" flag-icon-background flag-icon-"+n[0].toLowerCase()+" svelte-113v5af")&&m(r,"class",i)},i:t,o:t,d(t){t&&c(e),u=!1,s()}}}function Xo(t,n,e){let r;u(t,Y,(t=>e(2,r=t)));let o,{country:i}=n;return t.$$set=t=>{"country"in t&&e(0,i=t.country)},t.$$.update=()=>{5&t.$$.dirty&&("bycountry"!==r.mode||r.country!==i?e(1,o="inactiveflag"):e(1,o="activeflag"))},[i,o]}class Jo extends W{constructor(t){super(),F(this,t,Xo,Yo,i,{country:0})}}function Qo(t,n,e){const r=t.slice();return r[12]=n[e],r}function ti(t,n,e){const r=t.slice();return r[15]=n[e],r}function ni(t,n,e){const r=t.slice();return r[18]=n[e],r}function ei(n){let e,r,o,i,u=n[18].text+"";return{c(){e=f("option"),r=p(u),o=d(),e.__value=i=n[18],e.value=e.__value},m(t,n){l(t,e,n),a(e,r),a(e,o)},p:t,d(t){t&&c(e)}}}function ri(n){let e,r,o,i,u=n[15]+"";return{c(){e=f("option"),r=p(u),o=d(),e.__value=i=n[15],e.value=e.__value},m(t,n){l(t,e,n),a(e,r),a(e,o)},p:t,d(t){t&&c(e)}}}function oi(n){let e,r,o,i,u=n[12].text+"";return{c(){e=f("option"),r=p(u),o=d(),e.__value=i=n[12],e.value=e.__value},m(t,n){l(t,e,n),a(e,r),a(e,o)},p:t,d(t){t&&c(e)}}}function ii(t){let n,e,r,o,i,u,s,h,g,v,w,$=t[4].year+"",b=t[4].wojewodztwo+"";return{c(){n=f("div"),e=p("Ranking of countries within each voivodeship in "),r=f("strong"),o=p($),i=p("."),u=d(),s=f("p"),h=p("Flags on the map indicate where do most tourists come from.\n              The full ranking is currently displayed for "),g=f("strong"),v=p(b),w=p(" voivodeship (highlighted on the map).\n              Percentage indicates what proportion of all tourists in a given voivodeship do tourists from given country account for."),m(s,"class","additional-info svelte-f0728r")},m(t,c){l(t,n,c),a(n,e),a(n,r),a(r,o),a(n,i),l(t,u,c),l(t,s,c),a(s,h),a(s,g),a(g,v),a(s,w)},p(t,n){16&n&&$!==($=t[4].year+"")&&y(o,$),16&n&&b!==(b=t[4].wojewodztwo+"")&&y(v,b)},d(t){t&&c(n),t&&c(u),t&&c(s)}}}function ui(t){let n,e,r,o,i,u,s,h,g,v,w,$,b,_,x,M,E,S,N=t[4].year+"";return{c(){n=f("div"),e=p("Distribution of destinations among tourists from "),r=f("strong"),o=p(t[3]),i=p(" in "),u=f("strong"),s=p(N),h=p("."),g=d(),v=f("p"),w=p("Percentages indicate the popularity of given destination (voivodeship), relative to the entrire traffic to Poland from "),$=f("strong"),b=p(t[3]),_=p(".\n              Table displays exact number of tourists from "),x=f("strong"),M=p(t[3]),E=p(" by year.\n              "),S=f("strong"),S.textContent="Click on a flag to change the country.",m(v,"class","additional-info svelte-f0728r")},m(t,c){l(t,n,c),a(n,e),a(n,r),a(r,o),a(n,i),a(n,u),a(u,s),a(n,h),l(t,g,c),l(t,v,c),a(v,w),a(v,$),a($,b),a(v,_),a(v,x),a(x,M),a(v,E),a(v,S)},p(t,n){8&n&&y(o,t[3]),16&n&&N!==(N=t[4].year+"")&&y(s,N),8&n&&y(b,t[3]),8&n&&y(M,t[3])},d(t){t&&c(n),t&&c(g),t&&c(v)}}}function ai(t){let n,e,r,o,i,u=t[4].year+"";return{c(){n=f("div"),e=p("Ranking of countries by total number of tourists in "),r=f("strong"),o=p(u),i=p(".")},m(t,u){l(t,n,u),a(n,e),a(n,r),a(r,o),a(n,i)},p(t,n){16&n&&u!==(u=t[4].year+"")&&y(o,u)},d(t){t&&c(n)}}}function li(n){let e,i,u,h,p,v,y,$,b,_,x,M,E,S,N,k,A,L,O,C,z,P,I,R,T,K,D,q,H,B,U,F=n[5],W=[];for(let t=0;t<F.length;t+=1)W[t]=ei(ni(n,F,t));let V=n[7],Z=[];for(let t=0;t<V.length;t+=1)Z[t]=ri(ti(n,V,t));let G=n[6],X=[];for(let t=0;t<G.length;t+=1)X[t]=oi(Qo(n,G,t));function J(t,n){return"total"===t[4].mode?ai:"bycountry"==t[4].mode?ui:"bywojewodztwo"==t[4].mode?ii:void 0}let Q=J(n),tt=Q&&Q(n);return{c(){e=f("div"),i=f("div"),u=f("div"),h=f("h3"),h.textContent="Visualization",p=d(),v=f("div"),y=f("div"),$=f("div"),$.innerHTML='<label class="input-group-text" for="mode">Mode</label>',b=d(),_=f("select");for(let t=0;t<W.length;t+=1)W[t].c();x=d(),M=f("div"),E=f("div"),E.innerHTML='<label class="input-group-text" for="year">Year</label>',S=d(),N=f("select");for(let t=0;t<Z.length;t+=1)Z[t].c();k=d(),A=f("div"),L=f("div"),L.innerHTML='<label class="input-group-text" for="woj">Voivodeship</label>',O=d(),C=f("select");for(let t=0;t<X.length;t+=1)X[t].c();z=d(),P=f("h4"),P.textContent="Current mode",I=d(),tt&&tt.c(),R=d(),T=f("p"),T.innerHTML='View source code of this app on <a href="https://github.com/ppatrzyk/foreign-tourists" class="svelte-f0728r">Github</a>.',K=d(),D=f("p"),D.innerHTML='Data source: <a href="https://bdl.stat.gov.pl/BDL/start" class="svelte-f0728r">Główny Urząd Statystyczny</a>.',q=d(),H=f("p"),H.innerHTML='Note: This data is based on number of nights spent in hotels by foreign citizens. For details, see <a href="https://bdl.stat.gov.pl/BDL/start" class="svelte-f0728r">documentation</a> (Category K18, Group G240, Subgroup P2759).',m(h,"class","card-title"),m($,"class","input-group-prepend"),m(_,"id","mode"),m(_,"class","custom-select"),void 0===n[0]&&j((()=>n[8].call(_))),m(y,"class","input-group mb-3"),m(E,"class","input-group-prepend"),m(N,"id","year"),m(N,"class","custom-select"),void 0===n[2]&&j((()=>n[9].call(N))),m(M,"class","input-group mb-3"),m(L,"class","input-group-prepend"),m(C,"id","woj"),m(C,"class","custom-select"),void 0===n[1]&&j((()=>n[10].call(C))),m(A,"class","input-group mb-3"),m(P,"class","card-title"),m(v,"class","card-text"),m(u,"class","card-body"),m(i,"class","card mycard svelte-f0728r")},m(t,r){l(t,e,r),a(e,i),a(i,u),a(u,h),a(u,p),a(u,v),a(v,y),a(y,$),a(y,b),a(y,_);for(let t=0;t<W.length;t+=1)W[t].m(_,null);w(_,n[0]),a(v,x),a(v,M),a(M,E),a(M,S),a(M,N);for(let t=0;t<Z.length;t+=1)Z[t].m(N,null);w(N,n[2]),a(v,k),a(v,A),a(A,L),a(A,O),a(A,C);for(let t=0;t<X.length;t+=1)X[t].m(C,null);w(C,n[1]),a(v,z),a(v,P),a(v,I),tt&&tt.m(v,null),a(v,R),a(v,T),a(v,K),a(v,D),a(v,q),a(v,H),B||(U=[g(_,"change",n[8]),g(_,"change",(function(){o(Y.set_variable("mode",n[0].id))&&Y.set_variable("mode",n[0].id).apply(this,arguments)})),g(N,"change",n[9]),g(N,"change",(function(){o(Y.set_variable("year",n[2]))&&Y.set_variable("year",n[2]).apply(this,arguments)})),g(C,"change",n[10]),g(C,"change",(function(){o(Y.set_variable("wojewodztwo",n[1].id))&&Y.set_variable("wojewodztwo",n[1].id).apply(this,arguments)}))],B=!0)},p(t,[e]){if(n=t,32&e){let t;for(F=n[5],t=0;t<F.length;t+=1){const r=ni(n,F,t);W[t]?W[t].p(r,e):(W[t]=ei(r),W[t].c(),W[t].m(_,null))}for(;t<W.length;t+=1)W[t].d(1);W.length=F.length}if(33&e&&w(_,n[0]),128&e){let t;for(V=n[7],t=0;t<V.length;t+=1){const r=ti(n,V,t);Z[t]?Z[t].p(r,e):(Z[t]=ri(r),Z[t].c(),Z[t].m(N,null))}for(;t<Z.length;t+=1)Z[t].d(1);Z.length=V.length}if(132&e&&w(N,n[2]),64&e){let t;for(G=n[6],t=0;t<G.length;t+=1){const r=Qo(n,G,t);X[t]?X[t].p(r,e):(X[t]=oi(r),X[t].c(),X[t].m(C,null))}for(;t<X.length;t+=1)X[t].d(1);X.length=G.length}66&e&&w(C,n[1]),Q===(Q=J(n))&&tt?tt.p(n,e):(tt&&tt.d(1),tt=Q&&Q(n),tt&&(tt.c(),tt.m(v,R)))},i:t,o:t,d(t){t&&c(e),s(W,t),s(Z,t),s(X,t),tt&&tt.d(),B=!1,r(U)}}}function ci(t,n,e){let r,o;u(t,X,(t=>e(11,r=t))),u(t,Y,(t=>e(4,o=t)));let i,a,l,c=[{id:"bywojewodztwo",text:"By voivodeship"},{id:"bycountry",text:"By country"},{id:"total",text:"Total"}],s=[{id:"DOLNOŚLĄSKIE",text:"Dolnośląskie"},{id:"KUJAWSKO-POMORSKIE",text:"Kujawsko-Pomorskie"},{id:"LUBELSKIE",text:"Lubelskie"},{id:"LUBUSKIE",text:"Lubuskie"},{id:"ŁÓDZKIE",text:"Łódzkie"},{id:"MAZOWIECKIE",text:"Mazowieckie"},{id:"MAŁOPOLSKIE",text:"Małopolskie"},{id:"OPOLSKIE",text:"Opolskie"},{id:"PODKARPACKIE",text:"Podkarpackie"},{id:"PODLASKIE",text:"Podlaskie"},{id:"POMORSKIE",text:"Pomorskie"},{id:"ŚLĄSKIE",text:"Śląskie"},{id:"ŚWIĘTOKRZYSKIE",text:"Świętokrzyskie"},{id:"WARMIŃSKO-MAZURSKIE",text:"Warmińsko-Mazurskie"},{id:"WIELKOPOLSKIE",text:"Wielkopolskie"},{id:"ZACHODNIOPOMORSKIE",text:"Zachodniopomorskie"}],f=[2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019],h=2019;return t.$$.update=()=>{if(2064&t.$$.dirty)try{e(3,l=r[o.country].en)}catch(t){e(3,l="unknown")}},[i,a,h,l,o,c,s,f,function(){i=$(this),e(0,i),e(5,c)},function(){h=$(this),e(2,h),e(7,f)},function(){a=$(this),e(1,a),e(6,s)}]}class si extends W{constructor(t){super(),F(this,t,ci,li,i,{})}}function fi(t,n,e){const r=t.slice();return r[8]=n[e],r[10]=e,r}function hi(t){let n,e;return{c(){n=f("h2"),e=p(t[2])},m(t,r){l(t,n,r),a(n,e)},p(t,n){4&n&&y(e,t[2])},d(t){t&&c(n)}}}function pi(t){let n;return{c(){n=f("th"),n.textContent="Year"},m(t,e){l(t,n,e)},d(t){t&&c(n)}}}function di(t){let n;return{c(){n=f("th"),n.textContent="Place"},m(t,e){l(t,n,e)},d(t){t&&c(n)}}}function gi(t){let n;return{c(){n=f("th"),n.textContent="Country"},m(t,e){l(t,n,e)},d(t){t&&c(n)}}}function mi(t){let n,e,r=t[8].year+"";return{c(){n=f("td"),e=p(r)},m(t,r){l(t,n,r),a(n,e)},p(t,n){2&n&&r!==(r=t[8].year+"")&&y(e,r)},d(t){t&&c(n)}}}function vi(n){let e,r,o=n[10]+1+"";return{c(){e=f("td"),r=p(o)},m(t,n){l(t,e,n),a(e,r)},p:t,d(t){t&&c(e)}}}function yi(t){let n,e,r,o,i,u=t[3][t[8].country].en+"";return{c(){n=f("td"),e=f("span"),o=d(),i=p(u),m(e,"class",r="tableflag flag-icon-background flag-icon-"+t[8].country.toLowerCase()+" svelte-1659148")},m(t,r){l(t,n,r),a(n,e),a(n,o),a(n,i)},p(t,n){2&n&&r!==(r="tableflag flag-icon-background flag-icon-"+t[8].country.toLowerCase()+" svelte-1659148")&&m(e,"class",r),10&n&&u!==(u=t[3][t[8].country].en+"")&&y(i,u)},d(t){t&&c(n)}}}function wi(t){let n,e,r,o,i,u,s,h,g,m=t[8].count+"",v=Math.round(100*t[8].year_prop*100+Number.EPSILON)/100+"";function w(t,n){return"countryts"!==t[0]?vi:mi}let $=w(t),b=$(t),_="countryts"!==t[0]&&yi(t);return{c(){n=f("tr"),b.c(),e=d(),_&&_.c(),r=d(),o=f("td"),i=p(m),u=d(),s=f("td"),h=p(v),g=d()},m(t,c){l(t,n,c),b.m(n,null),a(n,e),_&&_.m(n,null),a(n,r),a(n,o),a(o,i),a(n,u),a(n,s),a(s,h),a(n,g)},p(t,o){$===($=w(t))&&b?b.p(t,o):(b.d(1),b=$(t),b&&(b.c(),b.m(n,e))),"countryts"!==t[0]?_?_.p(t,o):(_=yi(t),_.c(),_.m(n,r)):_&&(_.d(1),_=null),2&o&&m!==(m=t[8].count+"")&&y(i,m),2&o&&v!==(v=Math.round(100*t[8].year_prop*100+Number.EPSILON)/100+"")&&y(h,v)},d(t){t&&c(n),b.d(),_&&_.d()}}}function $i(n){let e,r,o,i,u,h,p,g,v,y,w,$,b="total"!==n[0]&&hi(n);function _(t,n){return"countryts"!==t[0]?di:pi}let x=_(n),M=x(n),E="countryts"!==n[0]&&gi(),S=n[1],N=[];for(let t=0;t<S.length;t+=1)N[t]=wi(fi(n,S,t));return{c(){e=f("div"),b&&b.c(),r=d(),o=f("table"),i=f("thead"),u=f("tr"),M.c(),h=d(),E&&E.c(),p=d(),g=f("th"),g.textContent="Count",v=d(),y=f("th"),y.textContent="Perc of all",w=d(),$=f("tbody");for(let t=0;t<N.length;t+=1)N[t].c();m(o,"class","table table-striped"),m(e,"class","mytable svelte-1659148")},m(t,n){l(t,e,n),b&&b.m(e,null),a(e,r),a(e,o),a(o,i),a(i,u),M.m(u,null),a(u,h),E&&E.m(u,null),a(u,p),a(u,g),a(u,v),a(u,y),a(o,w),a(o,$);for(let t=0;t<N.length;t+=1)N[t].m($,null)},p(t,[n]){if("total"!==t[0]?b?b.p(t,n):(b=hi(t),b.c(),b.m(e,r)):b&&(b.d(1),b=null),x!==(x=_(t))&&(M.d(1),M=x(t),M&&(M.c(),M.m(u,h))),"countryts"!==t[0]?E||(E=gi(),E.c(),E.m(u,p)):E&&(E.d(1),E=null),11&n){let e;for(S=t[1],e=0;e<S.length;e+=1){const r=fi(t,S,e);N[e]?N[e].p(r,n):(N[e]=wi(r),N[e].c(),N[e].m($,null))}for(;e<N.length;e+=1)N[e].d(1);N.length=S.length}},i:t,o:t,d(t){t&&c(e),b&&b.d(),M.d(),E&&E.d(),s(N,t)}}}function bi(t,n,e){let r,o,i,a;u(t,Y,(t=>e(4,r=t))),u(t,J,(t=>e(5,o=t))),u(t,Q,(t=>e(6,i=t))),u(t,X,(t=>e(3,a=t)));let l,c,{level:s}=n;return t.$$set=t=>{"level"in t&&e(0,s=t.level)},t.$$.update=()=>{113&t.$$.dirty&&e(1,l=function(t,n,e,r){var o,i=n.wojewodztwo,u=n.year,a=n.country;if("wojewodztwo"==t){for(var l of e.features)l.properties.nazwa.toUpperCase()===i&&(o=l.properties.bywojewodztwo[u]);o=o.slice(0,15)}else if("total"==t)o=r[u];else if("countryts"==t){for(var l of e.features)if(l.properties.nazwa.toUpperCase()===i){o=[];for(let[t,n]of Object.entries(l.properties.bycountry))try{var c=n[a];c.year=t,o.unshift(c)}catch(t){}}}else o={};return o}(s,r,o,i)),16&t.$$.dirty&&e(2,c=r.wojewodztwo)},[s,l,c,a]}class _i extends W{constructor(t){super(),F(this,t,bi,$i,i,{level:0})}}function xi(t){let n,e,r,o,i,u,s,h,p,g,v,y,w,$,b,_,x,M,E,S,N,k,A,j,L,O,C,z,P,I,q,H,B,U,F,W,V,Z,G="total"!==t[3].mode&&Ei(),Y="total"!==t[3].mode&&Si(),X="total"!==t[3].mode&&Ni(),J="total"!==t[3].mode&&ki(),Q="total"!==t[3].mode&&Ai(),tt="total"!==t[3].mode&&ji(),nt="total"!==t[3].mode&&Li(),et="total"!==t[3].mode&&Oi(),rt="total"!==t[3].mode&&Ci();const ot=[Pi,zi],it=[];function ut(t,n){return"total"!==t[3].mode?0:1}A=ut(t),j=it[A]=ot[A](t);let at="total"!==t[3].mode&&Ii(),lt="total"!==t[3].mode&&Ri(),ct="total"!==t[3].mode&&Ti(),st="total"!==t[3].mode&&Ki(),ft="total"!==t[3].mode&&Di(),ht="total"!==t[3].mode&&qi();return{c(){n=f("div"),e=f("div"),r=f("div"),G&&G.c(),o=d(),i=f("div"),Y&&Y.c(),u=d(),s=f("div"),X&&X.c(),h=d(),p=f("div"),J&&J.c(),g=d(),v=f("div"),Q&&Q.c(),y=d(),w=f("div"),tt&&tt.c(),$=d(),b=f("div"),nt&&nt.c(),_=d(),x=f("div"),M=f("div"),et&&et.c(),E=d(),S=f("div"),rt&&rt.c(),N=d(),k=f("div"),j.c(),L=d(),O=f("div"),at&&at.c(),C=d(),z=f("div"),P=f("div"),lt&&lt.c(),I=d(),q=f("div"),ct&&ct.c(),H=d(),B=f("div"),st&&st.c(),U=d(),F=f("div"),ft&&ft.c(),W=d(),V=f("div"),ht&&ht.c(),m(r,"class","col-1 offset-2"),m(i,"class","col-1"),m(s,"class","col-1"),m(p,"class","col-1"),m(v,"class","col-1"),m(w,"class","col-1"),m(b,"class","col-1"),m(e,"class","row"),m(M,"class","col-1"),m(S,"class","col-1"),m(k,"class","col-8"),m(O,"class","col-1"),m(x,"class","row"),m(P,"class","col-1 offset-3"),m(q,"class","col-1"),m(B,"class","col-1"),m(F,"class","col-1"),m(V,"class","col-1"),m(z,"class","row"),m(n,"class","col-7")},m(t,c){l(t,n,c),a(n,e),a(e,r),G&&G.m(r,null),a(e,o),a(e,i),Y&&Y.m(i,null),a(e,u),a(e,s),X&&X.m(s,null),a(e,h),a(e,p),J&&J.m(p,null),a(e,g),a(e,v),Q&&Q.m(v,null),a(e,y),a(e,w),tt&&tt.m(w,null),a(e,$),a(e,b),nt&&nt.m(b,null),a(n,_),a(n,x),a(x,M),et&&et.m(M,null),a(x,E),a(x,S),rt&&rt.m(S,null),a(x,N),a(x,k),it[A].m(k,null),a(x,L),a(x,O),at&&at.m(O,null),a(n,C),a(n,z),a(z,P),lt&&lt.m(P,null),a(z,I),a(z,q),ct&&ct.m(q,null),a(z,H),a(z,B),st&&st.m(B,null),a(z,U),a(z,F),ft&&ft.m(F,null),a(z,W),a(z,V),ht&&ht.m(V,null),Z=!0},p(t,n){"total"!==t[3].mode?G?8&n&&K(G,1):(G=Ei(),G.c(),K(G,1),G.m(r,null)):G&&(R(),D(G,1,1,(()=>{G=null})),T()),"total"!==t[3].mode?Y?8&n&&K(Y,1):(Y=Si(),Y.c(),K(Y,1),Y.m(i,null)):Y&&(R(),D(Y,1,1,(()=>{Y=null})),T()),"total"!==t[3].mode?X?8&n&&K(X,1):(X=Ni(),X.c(),K(X,1),X.m(s,null)):X&&(R(),D(X,1,1,(()=>{X=null})),T()),"total"!==t[3].mode?J?8&n&&K(J,1):(J=ki(),J.c(),K(J,1),J.m(p,null)):J&&(R(),D(J,1,1,(()=>{J=null})),T()),"total"!==t[3].mode?Q?8&n&&K(Q,1):(Q=Ai(),Q.c(),K(Q,1),Q.m(v,null)):Q&&(R(),D(Q,1,1,(()=>{Q=null})),T()),"total"!==t[3].mode?tt?8&n&&K(tt,1):(tt=ji(),tt.c(),K(tt,1),tt.m(w,null)):tt&&(R(),D(tt,1,1,(()=>{tt=null})),T()),"total"!==t[3].mode?nt?8&n&&K(nt,1):(nt=Li(),nt.c(),K(nt,1),nt.m(b,null)):nt&&(R(),D(nt,1,1,(()=>{nt=null})),T()),"total"!==t[3].mode?et?8&n&&K(et,1):(et=Oi(),et.c(),K(et,1),et.m(M,null)):et&&(R(),D(et,1,1,(()=>{et=null})),T()),"total"!==t[3].mode?rt?8&n&&K(rt,1):(rt=Ci(),rt.c(),K(rt,1),rt.m(S,null)):rt&&(R(),D(rt,1,1,(()=>{rt=null})),T());let e=A;A=ut(t),A!==e&&(R(),D(it[e],1,1,(()=>{it[e]=null})),T(),j=it[A],j||(j=it[A]=ot[A](t),j.c()),K(j,1),j.m(k,null)),"total"!==t[3].mode?at?8&n&&K(at,1):(at=Ii(),at.c(),K(at,1),at.m(O,null)):at&&(R(),D(at,1,1,(()=>{at=null})),T()),"total"!==t[3].mode?lt?8&n&&K(lt,1):(lt=Ri(),lt.c(),K(lt,1),lt.m(P,null)):lt&&(R(),D(lt,1,1,(()=>{lt=null})),T()),"total"!==t[3].mode?ct?8&n&&K(ct,1):(ct=Ti(),ct.c(),K(ct,1),ct.m(q,null)):ct&&(R(),D(ct,1,1,(()=>{ct=null})),T()),"total"!==t[3].mode?st?8&n&&K(st,1):(st=Ki(),st.c(),K(st,1),st.m(B,null)):st&&(R(),D(st,1,1,(()=>{st=null})),T()),"total"!==t[3].mode?ft?8&n&&K(ft,1):(ft=Di(),ft.c(),K(ft,1),ft.m(F,null)):ft&&(R(),D(ft,1,1,(()=>{ft=null})),T()),"total"!==t[3].mode?ht?8&n&&K(ht,1):(ht=qi(),ht.c(),K(ht,1),ht.m(V,null)):ht&&(R(),D(ht,1,1,(()=>{ht=null})),T())},i(t){Z||(K(G),K(Y),K(X),K(J),K(Q),K(tt),K(nt),K(et),K(rt),K(j),K(at),K(lt),K(ct),K(st),K(ft),K(ht),Z=!0)},o(t){D(G),D(Y),D(X),D(J),D(Q),D(tt),D(nt),D(et),D(rt),D(j),D(at),D(lt),D(ct),D(st),D(ft),D(ht),Z=!1},d(t){t&&c(n),G&&G.d(),Y&&Y.d(),X&&X.d(),J&&J.d(),Q&&Q.d(),tt&&tt.d(),nt&&nt.d(),et&&et.d(),rt&&rt.d(),it[A].d(),at&&at.d(),lt&&lt.d(),ct&&ct.d(),st&&st.d(),ft&&ft.d(),ht&&ht.d()}}}function Mi(n){let e;return{c(){e=f("div"),e.textContent="loading data...",m(e,"class","col-7")},m(t,n){l(t,e,n)},p:t,i:t,o:t,d(t){t&&c(e)}}}function Ei(t){let n,e;return n=new Jo({props:{country:"DK"}}),{c(){q(n.$$.fragment)},m(t,r){H(n,t,r),e=!0},i(t){e||(K(n.$$.fragment,t),e=!0)},o(t){D(n.$$.fragment,t),e=!1},d(t){B(n,t)}}}function Si(t){let n,e;return n=new Jo({props:{country:"NO"}}),{c(){q(n.$$.fragment)},m(t,r){H(n,t,r),e=!0},i(t){e||(K(n.$$.fragment,t),e=!0)},o(t){D(n.$$.fragment,t),e=!1},d(t){B(n,t)}}}function Ni(t){let n,e;return n=new Jo({props:{country:"SE"}}),{c(){q(n.$$.fragment)},m(t,r){H(n,t,r),e=!0},i(t){e||(K(n.$$.fragment,t),e=!0)},o(t){D(n.$$.fragment,t),e=!1},d(t){B(n,t)}}}function ki(t){let n,e;return n=new Jo({props:{country:"FI"}}),{c(){q(n.$$.fragment)},m(t,r){H(n,t,r),e=!0},i(t){e||(K(n.$$.fragment,t),e=!0)},o(t){D(n.$$.fragment,t),e=!1},d(t){B(n,t)}}}function Ai(t){let n,e;return n=new Jo({props:{country:"LT"}}),{c(){q(n.$$.fragment)},m(t,r){H(n,t,r),e=!0},i(t){e||(K(n.$$.fragment,t),e=!0)},o(t){D(n.$$.fragment,t),e=!1},d(t){B(n,t)}}}function ji(t){let n,e;return n=new Jo({props:{country:"LV"}}),{c(){q(n.$$.fragment)},m(t,r){H(n,t,r),e=!0},i(t){e||(K(n.$$.fragment,t),e=!0)},o(t){D(n.$$.fragment,t),e=!1},d(t){B(n,t)}}}function Li(t){let n,e;return n=new Jo({props:{country:"EE"}}),{c(){q(n.$$.fragment)},m(t,r){H(n,t,r),e=!0},i(t){e||(K(n.$$.fragment,t),e=!0)},o(t){D(n.$$.fragment,t),e=!1},d(t){B(n,t)}}}function Oi(t){let n,e,r,o,i,u,a,s,h,p,g,m,v,y,w,$,b;return u=new Jo({props:{country:"CA"}}),s=new Jo({props:{country:"US"}}),p=new Jo({props:{country:"GB"}}),m=new Jo({props:{country:"IE"}}),y=new Jo({props:{country:"ES"}}),$=new Jo({props:{country:"PT"}}),{c(){n=f("br"),e=f("br"),r=f("br"),o=f("br"),i=d(),q(u.$$.fragment),a=d(),q(s.$$.fragment),h=d(),q(p.$$.fragment),g=d(),q(m.$$.fragment),v=d(),q(y.$$.fragment),w=d(),q($.$$.fragment)},m(t,c){l(t,n,c),l(t,e,c),l(t,r,c),l(t,o,c),l(t,i,c),H(u,t,c),l(t,a,c),H(s,t,c),l(t,h,c),H(p,t,c),l(t,g,c),H(m,t,c),l(t,v,c),H(y,t,c),l(t,w,c),H($,t,c),b=!0},i(t){b||(K(u.$$.fragment,t),K(s.$$.fragment,t),K(p.$$.fragment,t),K(m.$$.fragment,t),K(y.$$.fragment,t),K($.$$.fragment,t),b=!0)},o(t){D(u.$$.fragment,t),D(s.$$.fragment,t),D(p.$$.fragment,t),D(m.$$.fragment,t),D(y.$$.fragment,t),D($.$$.fragment,t),b=!1},d(t){t&&c(n),t&&c(e),t&&c(r),t&&c(o),t&&c(i),B(u,t),t&&c(a),B(s,t),t&&c(h),B(p,t),t&&c(g),B(m,t),t&&c(v),B(y,t),t&&c(w),B($,t)}}}function Ci(t){let n,e,r,o,i,u,a,s,h,p,g,m,v,y,w,$,b,_,x;return u=new Jo({props:{country:"DE"}}),s=new Jo({props:{country:"FR"}}),p=new Jo({props:{country:"BE"}}),m=new Jo({props:{country:"NL"}}),y=new Jo({props:{country:"LU"}}),$=new Jo({props:{country:"CH"}}),_=new Jo({props:{country:"IT"}}),{c(){n=f("br"),e=f("br"),r=f("br"),o=f("br"),i=d(),q(u.$$.fragment),a=d(),q(s.$$.fragment),h=d(),q(p.$$.fragment),g=d(),q(m.$$.fragment),v=d(),q(y.$$.fragment),w=d(),q($.$$.fragment),b=d(),q(_.$$.fragment)},m(t,c){l(t,n,c),l(t,e,c),l(t,r,c),l(t,o,c),l(t,i,c),H(u,t,c),l(t,a,c),H(s,t,c),l(t,h,c),H(p,t,c),l(t,g,c),H(m,t,c),l(t,v,c),H(y,t,c),l(t,w,c),H($,t,c),l(t,b,c),H(_,t,c),x=!0},i(t){x||(K(u.$$.fragment,t),K(s.$$.fragment,t),K(p.$$.fragment,t),K(m.$$.fragment,t),K(y.$$.fragment,t),K($.$$.fragment,t),K(_.$$.fragment,t),x=!0)},o(t){D(u.$$.fragment,t),D(s.$$.fragment,t),D(p.$$.fragment,t),D(m.$$.fragment,t),D(y.$$.fragment,t),D($.$$.fragment,t),D(_.$$.fragment,t),x=!1},d(t){t&&c(n),t&&c(e),t&&c(r),t&&c(o),t&&c(i),B(u,t),t&&c(a),B(s,t),t&&c(h),B(p,t),t&&c(g),B(m,t),t&&c(v),B(y,t),t&&c(w),B($,t),t&&c(b),B(_,t)}}}function zi(t){let n,e;return n=new _i({props:{level:"total"}}),{c(){q(n.$$.fragment)},m(t,r){H(n,t,r),e=!0},i(t){e||(K(n.$$.fragment,t),e=!0)},o(t){D(n.$$.fragment,t),e=!1},d(t){B(n,t)}}}function Pi(t){let n,e;return n=new Go({}),{c(){q(n.$$.fragment)},m(t,r){H(n,t,r),e=!0},i(t){e||(K(n.$$.fragment,t),e=!0)},o(t){D(n.$$.fragment,t),e=!1},d(t){B(n,t)}}}function Ii(t){let n,e,r,o,i,u,a,s,h,p,g,m,v,y,w,$,b,_,x;return u=new Jo({props:{country:"RU"}}),s=new Jo({props:{country:"BY"}}),p=new Jo({props:{country:"UA"}}),m=new Jo({props:{country:"GR"}}),y=new Jo({props:{country:"CY"}}),$=new Jo({props:{country:"MT"}}),_=new Jo({props:{country:"JP"}}),{c(){n=f("br"),e=f("br"),r=f("br"),o=f("br"),i=d(),q(u.$$.fragment),a=d(),q(s.$$.fragment),h=d(),q(p.$$.fragment),g=d(),q(m.$$.fragment),v=d(),q(y.$$.fragment),w=d(),q($.$$.fragment),b=d(),q(_.$$.fragment)},m(t,c){l(t,n,c),l(t,e,c),l(t,r,c),l(t,o,c),l(t,i,c),H(u,t,c),l(t,a,c),H(s,t,c),l(t,h,c),H(p,t,c),l(t,g,c),H(m,t,c),l(t,v,c),H(y,t,c),l(t,w,c),H($,t,c),l(t,b,c),H(_,t,c),x=!0},i(t){x||(K(u.$$.fragment,t),K(s.$$.fragment,t),K(p.$$.fragment,t),K(m.$$.fragment,t),K(y.$$.fragment,t),K($.$$.fragment,t),K(_.$$.fragment,t),x=!0)},o(t){D(u.$$.fragment,t),D(s.$$.fragment,t),D(p.$$.fragment,t),D(m.$$.fragment,t),D(y.$$.fragment,t),D($.$$.fragment,t),D(_.$$.fragment,t),x=!1},d(t){t&&c(n),t&&c(e),t&&c(r),t&&c(o),t&&c(i),B(u,t),t&&c(a),B(s,t),t&&c(h),B(p,t),t&&c(g),B(m,t),t&&c(v),B(y,t),t&&c(w),B($,t),t&&c(b),B(_,t)}}}function Ri(t){let n,e;return n=new Jo({props:{country:"SI"}}),{c(){q(n.$$.fragment)},m(t,r){H(n,t,r),e=!0},i(t){e||(K(n.$$.fragment,t),e=!0)},o(t){D(n.$$.fragment,t),e=!1},d(t){B(n,t)}}}function Ti(t){let n,e;return n=new Jo({props:{country:"AT"}}),{c(){q(n.$$.fragment)},m(t,r){H(n,t,r),e=!0},i(t){e||(K(n.$$.fragment,t),e=!0)},o(t){D(n.$$.fragment,t),e=!1},d(t){B(n,t)}}}function Ki(t){let n,e;return n=new Jo({props:{country:"CZ"}}),{c(){q(n.$$.fragment)},m(t,r){H(n,t,r),e=!0},i(t){e||(K(n.$$.fragment,t),e=!0)},o(t){D(n.$$.fragment,t),e=!1},d(t){B(n,t)}}}function Di(t){let n,e;return n=new Jo({props:{country:"SK"}}),{c(){q(n.$$.fragment)},m(t,r){H(n,t,r),e=!0},i(t){e||(K(n.$$.fragment,t),e=!0)},o(t){D(n.$$.fragment,t),e=!1},d(t){B(n,t)}}}function qi(t){let n,e;return n=new Jo({props:{country:"HU"}}),{c(){q(n.$$.fragment)},m(t,r){H(n,t,r),e=!0},i(t){e||(K(n.$$.fragment,t),e=!0)},o(t){D(n.$$.fragment,t),e=!1},d(t){B(n,t)}}}function Hi(t){let n,e,r,o="bywojewodztwo"===t[3].mode&&Ui(),i="bycountry"===t[3].mode&&Fi();return{c(){n=f("div"),o&&o.c(),e=d(),i&&i.c(),m(n,"class","col-7 offset-4")},m(t,u){l(t,n,u),o&&o.m(n,null),a(n,e),i&&i.m(n,null),r=!0},p(t,r){"bywojewodztwo"===t[3].mode?o?8&r&&K(o,1):(o=Ui(),o.c(),K(o,1),o.m(n,e)):o&&(R(),D(o,1,1,(()=>{o=null})),T()),"bycountry"===t[3].mode?i?8&r&&K(i,1):(i=Fi(),i.c(),K(i,1),i.m(n,null)):i&&(R(),D(i,1,1,(()=>{i=null})),T())},i(t){r||(K(o),K(i),r=!0)},o(t){D(o),D(i),r=!1},d(t){t&&c(n),o&&o.d(),i&&i.d()}}}function Bi(n){return{c:t,m:t,p:t,i:t,o:t,d:t}}function Ui(t){let n,e;return n=new _i({props:{level:"wojewodztwo"}}),{c(){q(n.$$.fragment)},m(t,r){H(n,t,r),e=!0},i(t){e||(K(n.$$.fragment,t),e=!0)},o(t){D(n.$$.fragment,t),e=!1},d(t){B(n,t)}}}function Fi(t){let n,e;return n=new _i({props:{level:"countryts"}}),{c(){q(n.$$.fragment)},m(t,r){H(n,t,r),e=!0},i(t){e||(K(n.$$.fragment,t),e=!0)},o(t){D(n.$$.fragment,t),e=!1},d(t){B(n,t)}}}function Wi(t){let n,e,r,o,i,u,s,h,p,g,v,y,w,$,b,_;u=new si({});const x=[Mi,xi],M=[];function E(t,n){return 7&n&&(h=!(0!==Object.keys(t[0]).length&&0!==Object.keys(t[1]).length&&0!==Object.keys(t[2]).length)),h?0:1}p=E(t,-1),g=M[p]=x[p](t);const S=[Bi,Hi],N=[];function k(t,n){return 7&n&&(w=!(0!==Object.keys(t[0]).length&&0!==Object.keys(t[1]).length&&0!==Object.keys(t[2]).length)),w?0:1}return $=k(t,-1),b=N[$]=S[$](t),{c(){n=f("main"),e=f("div"),e.innerHTML='<div class="col-10 offset-1"><h1 class="title svelte-1cuv0uw">Foreign Tourists in Poland</h1></div>',r=d(),o=f("div"),i=f("div"),q(u.$$.fragment),s=d(),g.c(),v=d(),y=f("div"),b.c(),m(e,"class","row"),m(i,"class","col-3 offset-1"),m(o,"class","row"),m(y,"class","row"),m(n,"class","svelte-1cuv0uw")},m(t,c){l(t,n,c),a(n,e),a(n,r),a(n,o),a(o,i),H(u,i,null),a(o,s),M[p].m(o,null),a(n,v),a(n,y),N[$].m(y,null),_=!0},p(t,[n]){let e=p;p=E(t,n),p===e?M[p].p(t,n):(R(),D(M[e],1,1,(()=>{M[e]=null})),T(),g=M[p],g||(g=M[p]=x[p](t),g.c()),K(g,1),g.m(o,null));let r=$;$=k(t,n),$===r?N[$].p(t,n):(R(),D(N[r],1,1,(()=>{N[r]=null})),T(),b=N[$],b||(b=N[$]=S[$](t),b.c()),K(b,1),b.m(y,null))},i(t){_||(K(u.$$.fragment,t),K(g),K(b),_=!0)},o(t){D(u.$$.fragment,t),D(g),D(b),_=!1},d(t){t&&c(n),B(u),M[p].d(),N[$].d()}}}function Vi(t,n,e){let r,o,i,a;return u(t,X,(t=>e(0,r=t))),u(t,J,(t=>e(1,o=t))),u(t,Q,(t=>e(2,i=t))),u(t,Y,(t=>e(3,a=t))),x((async()=>{const t=await fetch("data/country_codes.json");var n=await t.json();const e=await fetch("data/map_data.geojson");var r=await e.json();const o=await fetch("data/tourists_total.json");var i=await o.json();X.set(n),J.set(r),Q.set(i)})),[r,o,i,a]}return new class extends W{constructor(t){super(),F(this,t,Vi,Wi,i,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
